<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>study</title>
    <link href="/2025/08/21/study/"/>
    <url>/2025/08/21/study/</url>
    
    <content type="html"><![CDATA[<h1 id="RAGFLOW"><a href="#RAGFLOW" class="headerlink" title="RAGFLOW"></a>RAGFLOW</h1><h2 id="ä»€ä¹ˆæ˜¯RAGFLOW"><a href="#ä»€ä¹ˆæ˜¯RAGFLOW" class="headerlink" title="ä»€ä¹ˆæ˜¯RAGFLOW"></a>ä»€ä¹ˆæ˜¯RAGFLOW</h2><p><a href="https://ragflow.io/">RAGFlow</a> æ˜¯ä¸€ä¸ªåŸºäºæ·±åº¦æ–‡æ¡£ç†è§£çš„å¼€æº RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰å¼•æ“ã€‚å®ƒä¸ºä»»ä½•è§„æ¨¡çš„ä¼ä¸šæä¾›äº†ç®€åŒ–çš„ RAG å·¥ä½œæµç¨‹ï¼Œç»“åˆäº† LLMï¼ˆå¤§å‹è¯­è¨€æ¨¡å‹ï¼‰æä¾›çœŸå®çš„é—®ç­”åŠŸèƒ½ï¼Œå¹¶ä»¥æ¥è‡ªå„ç§å¤æ‚æ ¼å¼çš„æœ‰æ ¹æ®çš„å¼•æ–‡ä¸ºåç›¾ã€‚</p><p><strong>SDK</strong> æ˜¯ <strong>Software Development Kit</strong>ï¼ˆ<strong>è½¯ä»¶å¼€å‘å·¥å…·åŒ…</strong>ï¼‰çš„ç¼©å†™ï¼Œä¸­æ–‡é€šå¸¸ç§°â€œå¼€å‘å·¥å…·åŒ…â€ï¼Œç”¨äºå¼€å‘ç‰¹å®šå¹³å°æˆ–è½¯ä»¶åº”ç”¨çš„å·¥å…·é›†åˆã€‚</p><h3 id="Integrations"><a href="#Integrations" class="headerlink" title="Integrations"></a>Integrations</h3><blockquote><p><code>integrations</code> ç›®å½•ä¸­ RAGFlow ä¸ ChatGPT-on-WeChat å¯¹æ¥ã€‚</p></blockquote><h3 id="NLTK"><a href="#NLTK" class="headerlink" title="NLTK"></a>NLTK</h3><blockquote><p>NLTK æ˜¯ Natural Language Toolkitï¼ˆè‡ªç„¶è¯­è¨€å¤„ç†å·¥å…·åŒ…ï¼‰</p></blockquote><ul><li><strong>æ–‡æœ¬åˆ†è¯</strong>ï¼ˆtokenizationï¼‰</li><li><strong>è¯æ€§æ ‡æ³¨</strong>ï¼ˆPOS taggingï¼‰</li><li><strong>å‘½åå®ä½“è¯†åˆ«</strong>ï¼ˆNERï¼‰</li><li><strong>å¥æ³•åˆ†æ</strong>ï¼ˆparsingï¼‰</li></ul><h3 id="uv-lock-Pythoné¡¹ç›®çš„ä¾èµ–ç»„ä»¶"><a href="#uv-lock-Pythoné¡¹ç›®çš„ä¾èµ–ç»„ä»¶" class="headerlink" title="uv.lock Pythoné¡¹ç›®çš„ä¾èµ–ç»„ä»¶"></a>uv.lock Pythoné¡¹ç›®çš„ä¾èµ–ç»„ä»¶</h3><p><a href="https://zhuanlan.zhihu.com/p/1893299536002261393%20%20ragFlow">https://zhuanlan.zhihu.com/p/1893299536002261393 RAGFlow</a> é¡¹ç›®ç»“æ„</p><p><strong>Werkzeug</strong>ï¼šWerkzeug æ˜¯ä¸€ä¸ªçº¯ Python ç¼–å†™çš„ WSGI å·¥å…·åº“ï¼Œç”± Flask çš„æ ¸å¿ƒå¼€å‘è€…ï¼ˆPallets å›¢é˜Ÿï¼‰ç»´æŠ¤ã€‚å®ƒçš„å®šä½æ˜¯ï¼šâ€œHTTP å’Œ WSGI çš„ç‘å£«å†›åˆ€â€ï¼Œæä¾›æ„å»º Web æ¡†æ¶&#x2F;æœåŠ¡å™¨æ‰€éœ€çš„å„ç§åº•å±‚åŠŸèƒ½ï¼Œä½†æœ¬èº«ä¸æ˜¯ä¸€ä¸ªå®Œæ•´çš„ Web æ¡†æ¶ã€‚</p><p>SIGINTï¼šä¿¡æ¯è·å–ï¼ŒSIGTERMï¼šå…³é—­ã€‚</p><p>WSGIï¼šçš„å…¨ç§°æ˜¯ <strong>Web Server Gateway Interface</strong>ï¼ˆWeb æœåŠ¡å™¨ç½‘å…³æ¥å£ï¼‰ã€‚ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>å®ƒæ˜¯ Python Web åº”ç”¨ï¼ˆæˆ–æ¡†æ¶ï¼‰ä¸ Web æœåŠ¡å™¨ä¹‹é—´çš„â€œé€šç”¨ç¿»è¯‘å®˜â€</strong>ã€‚</p><p><strong>Node.jsï¼ˆç®€ç§° nodeï¼‰</strong> æ˜¯è®©ä½ åœ¨æµè§ˆå™¨ä¹‹å¤–ä¹Ÿèƒ½è¿è¡Œ JavaScript çš„â€œå‘åŠ¨æœºâ€ã€‚è¿è¡Œ JavaScript ä»£ç ä¸ç”¨æµè§ˆå™¨ï¼Œç›´æ¥åœ¨å‘½ä»¤è¡Œã€‚</p><p><strong>JavaScript</strong> æ˜¯è®©ç½‘é¡µä»â€œé™æ€æµ·æŠ¥â€å˜æˆâ€œäº¤äº’åº”ç”¨â€çš„é­”æ³•è¯­è¨€ï¼Œç°åœ¨æ›´æ˜¯å‰åç«¯é€šåƒçš„ä¸‡èƒ½èƒ¶æ°´ã€‚</p><p><strong>æ„é€ å‡½æ•°</strong>ï¼šåœ¨ Python ä¸­ï¼Œæ„é€ å‡½æ•°çš„åå­—æ€»æ˜¯ <code>__init__</code>ï¼Œæ˜¯<strong>åœ¨åˆ›å»ºå¯¹è±¡æ—¶è‡ªåŠ¨è°ƒç”¨çš„ç‰¹æ®Šæ–¹æ³•</strong>ï¼Œç”¨äºåˆå§‹åŒ–å¯¹è±¡çš„çŠ¶æ€ï¼ˆå±æ€§ï¼‰ã€‚</p><p><code>dir()</code> æ˜¯ Python çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œä½œç”¨æ˜¯<strong>åˆ—å‡ºå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•åç§°</strong>ã€‚</p><p><code>setattr</code> æ˜¯ Python å†…ç½®å‡½æ•°ï¼Œç”¨äº<strong>ç»™å¯¹è±¡åŠ¨æ€åœ°è®¾ç½®å±æ€§å€¼</strong>ã€‚<code>setattr(object, name, value)</code></p><p><code>__dict__</code>ï¼šå®ä¾‹å±æ€§ï¼Œä½ åˆ›å»ºä¸€ä¸ªç±»çš„å®ä¾‹åï¼Œå®ä¾‹çš„å±æ€§å°±ä¼šè¢«å­˜æ”¾åœ¨ <code>__dict__</code> ä¸­ã€‚</p><p><strong>åŒä¸‹åˆ’çº¿</strong>ï¼ˆdunderï¼Œdouble underscoreï¼‰çš„å‡½æ•°ï¼Œåœ¨ Python é‡Œç»Ÿç§°ä¸º**â€œé­”æœ¯æ–¹æ³• &#x2F; ç‰¹æ®Šæ–¹æ³•â€**ã€‚å®ƒä»¬ä¸è®©ä½ ç›´æ¥è°ƒç”¨ï¼Œè€Œæ˜¯ç”± <strong>Python è§£é‡Šå™¨åœ¨ç‰¹å®šåœºæ™¯ä¸‹è‡ªåŠ¨è§¦å‘</strong>ï¼Œç”¨æ¥å®šä¹‰å¯¹è±¡çš„æ ¸å¿ƒè¡Œä¸ºã€‚</p><p><strong>ä¸‰å¼•å·</strong>ï¼šå°±æ˜¯â€œå¤šè¡Œå­—ç¬¦ä¸²â€ï¼Œè‡³äºæ‹¿æ¥å¹²ä»€ä¹ˆï¼Œå–å†³äºå®ƒæ”¾åœ¨å“ªé‡Œã€‚</p><ul><li><strong>å½“æ”¾åœ¨æ¨¡å—ã€ç±»ã€å‡½æ•°æˆ–æ–¹æ³•çš„ç¬¬ä¸€è¡Œ</strong> â€”â€” å®ƒå°±æ˜¯æ–‡æ¡£å­—ç¬¦ä¸²ï¼ˆdocstringï¼‰ï¼Œé€šè¿‡ <code>help(func)</code> æˆ– <code>func.__doc__</code> èƒ½æ‹¿åˆ°è¿™æ®µè¯´æ˜ã€‚</li><li><strong>å½“æ”¾åœ¨èµ‹å€¼è¯­å¥å³è¾¹</strong> â€”â€” å®ƒå°±æ˜¯æ™®é€šå­—ç¬¦ä¸²ï¼Œåªæ˜¯è·¨è¡Œå†™èµ·æ¥æ›´æ–¹ä¾¿ã€‚</li><li><strong>å½“æ”¾åœ¨ä»£ç é‡Œä½†æ—¢ä¸èµ‹å€¼ä¹Ÿä¸å½“ docstring</strong> â€”â€” å®ƒå°±åªæ˜¯è¢«å¿½ç•¥çš„å­—ç¬¦ä¸²å¸¸é‡ã€‚</li></ul><hr><h2 id="JSON-å¤„ç†"><a href="#JSON-å¤„ç†" class="headerlink" title="JSON å¤„ç†"></a>JSON å¤„ç†</h2><p>âœ… <code>json.dumps(obj)</code>ï¼š<strong>Python â†’ JSON å­—ç¬¦ä¸²</strong><br>âœ… <code>json.loads(json_str)</code>ï¼š<strong>JSON å­—ç¬¦ä¸² â†’ Python å¯¹è±¡ï¼ˆé€šå¸¸æ˜¯å­—å…¸ï¼‰</strong>ã€‚</p><hr><h2 id="Python-å‘½åçº¦å®š"><a href="#Python-å‘½åçº¦å®š" class="headerlink" title="Python å‘½åçº¦å®š"></a>Python å‘½åçº¦å®š</h2><p>åœ¨ Python ä¸­ï¼Œå˜é‡åå‰åŠ ä¸‹åˆ’çº¿ï¼ˆä¾‹å¦‚ <code>_param</code>ï¼‰<strong>æ˜¯ä¸€ç§çº¦å®šï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªâ€œå†…éƒ¨å˜é‡â€æˆ–â€œç§æœ‰å±æ€§â€</strong>ã€‚</p><p>Python å‡½æ•°åœ¨è°ƒç”¨æ—¶å¿…é¡»å·²ç»å…ˆå®šä¹‰åœ¨è°ƒç”¨ä¸Šæ–¹ï¼Œå‡½æ•°å†…è°ƒç”¨ä¸åˆ†å…ˆåã€‚</p><hr><h2 id="é›†åˆä¸ç”Ÿæˆå™¨"><a href="#é›†åˆä¸ç”Ÿæˆå™¨" class="headerlink" title="é›†åˆä¸ç”Ÿæˆå™¨"></a>é›†åˆä¸ç”Ÿæˆå™¨</h2><p>ğŸŸ¢ <code>set([])</code> æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿåˆ›å»ºç©ºé›†åˆã€‚</p><p><code>yield</code> æ˜¯ä¸€ä¸ªç”¨äº**ç”Ÿæˆå™¨å‡½æ•°ï¼ˆgenerator functionï¼‰**çš„å…³é”®å­—ï¼Œå¯ä»¥è®©å‡½æ•°ä¸€æ¬¡è¿”å›ä¸€ä¸ªå€¼ï¼ŒåŒæ—¶è®°ä½ä¸Šæ¬¡æ‰§è¡Œçš„ä½ç½®ã€‚è¾¹æ‰§è¡Œè¾¹äº§å‡ºã€‚â€œæš‚åœä¸€ä¸‹ï¼Œå…ˆç»™ä½ ä¸€æ¡æ¶ˆæ¯ï¼Œç­‰ä½ å¤„ç†å®Œäº†æˆ‘å†ç»§ç»­å¾€ä¸‹èµ°ã€‚â€</p><h3 id="ğŸ§ -yield-ä¸-return-çš„åŒºåˆ«"><a href="#ğŸ§ -yield-ä¸-return-çš„åŒºåˆ«" class="headerlink" title="ğŸ§  yield ä¸ return çš„åŒºåˆ«"></a>ğŸ§  yield ä¸ return çš„åŒºåˆ«</h3><table><thead><tr><th><strong>æ¯”è¾ƒé¡¹</strong></th><th><strong>return</strong></th><th><strong>yield</strong></th></tr></thead><tbody><tr><td>å‡½æ•°ç±»å‹</td><td>æ™®é€šå‡½æ•°</td><td>ç”Ÿæˆå™¨å‡½æ•°ï¼ˆè¿”å›ç”Ÿæˆå™¨å¯¹è±¡ï¼‰</td></tr><tr><td>è¿”å›è¡Œä¸º</td><td>ä¸€æ¬¡æ€§è¿”å›ï¼Œå‡½æ•°ç»“æŸ</td><td>æš‚åœå‡½æ•°ï¼Œä¿ç•™çŠ¶æ€ï¼Œä¸‹æ¬¡ç»§ç»­</td></tr><tr><td>å¯å¤šæ¬¡è¾“å‡ºï¼Ÿ</td><td>å¦ï¼Œä¸€æ¬¡</td><td>æ˜¯ï¼Œå¤šæ¬¡ï¼ˆä½¿ç”¨ for æˆ– next()ï¼‰</td></tr><tr><td>å†…å­˜æ•ˆç‡</td><td>ä¸é«˜ï¼ˆè¿”å›æ•´ä¸ªåˆ—è¡¨ç­‰ï¼‰</td><td>é«˜æ•ˆï¼ˆæŒ‰éœ€ç”Ÿæˆï¼Œæ¯æ¬¡ä¸€ä¸ªå€¼ï¼‰</td></tr></tbody></table><hr><h2 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h2><p>âœ… ä¸€å¥è¯è§£é‡Šï¼š<code>try-except-raise</code> ç”¨äºï¼š</p><ul><li><strong>æ•è·å¼‚å¸¸</strong>ï¼ˆ<code>try</code>ï¼‰ï¼šå¯èƒ½å‡ºé”™çš„ä»£ç </li><li><strong>åšå‡ºå¤„ç†</strong>ï¼ˆ<code>except</code>ï¼‰ï¼šå…ˆå¤„ç†ä¸€ä¸‹ï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—</li><li><strong>é‡æ–°æŠ›å‡ºå¼‚å¸¸</strong>ï¼ˆ<code>raise</code>ï¼‰ï¼Œè®©å®ƒä¼ ç»™å¤–éƒ¨æˆ–ä¸­æ­¢ç¨‹åº</li></ul><hr><h2 id="åˆ‡ç‰‡ä¸è£…é¥°å™¨"><a href="#åˆ‡ç‰‡ä¸è£…é¥°å™¨" class="headerlink" title="åˆ‡ç‰‡ä¸è£…é¥°å™¨"></a>åˆ‡ç‰‡ä¸è£…é¥°å™¨</h2><ul><li><code>[::-1]</code> æ˜¯ Python çš„åˆ‡ç‰‡è¯­æ³•ï¼Œç”¨äºåè½¬åºåˆ—ï¼š<ul><li>ç¬¬ä¸€ä¸ª <code>:</code> è¡¨ç¤ºä»å¼€å§‹åˆ°ç»“æŸ</li><li>ç¬¬äºŒä¸ª <code>:</code> åæ˜¯æ­¥é•¿ï¼ˆstepï¼‰ï¼Œ<code>-1</code> è¡¨ç¤ºä»åå‘å‰éå†</li></ul></li></ul><p><code>@property</code> è£…é¥°å™¨å°†æ–¹æ³•ä¼ªè£…æˆå±æ€§ã€‚ç”¨æˆ·åƒæ“ä½œå±æ€§ä¸€æ ·ä½¿ç”¨ï¼ˆæ— éœ€æ˜¾å¼è°ƒç”¨æ–¹æ³•ï¼‰ã€‚</p><p><code>@</code> æ˜¯<strong>è£…é¥°å™¨ï¼ˆDecoratorï¼‰è¯­æ³•</strong>çš„æ ‡å¿—ï¼Œç”¨äº<strong>åŒ…è£…å‡½æ•°ã€æ–¹æ³•æˆ–ç±»</strong>ï¼Œåœ¨ä¸æ”¹å˜å…¶åŸå§‹å®šä¹‰çš„å‰æä¸‹ï¼Œå¢å¼ºæˆ–ä¿®æ”¹å…¶è¡Œä¸ºã€‚</p><pre><code class="language-python">@decoratordef func():    passç­‰ä»·äºï¼špythondef func():    passfunc = decorator(func)è£…é¥°å™¨ï¼ˆDecoratorï¼‰å°±æ˜¯ä¸€ä¸ªâ€œåŒ…è£…å‡½æ•°â€ï¼Œåœ¨ä¸ä¿®æ”¹åŸå‡½æ•°ä»£ç çš„å‰æä¸‹ï¼Œç»™å®ƒåŠ åŠŸèƒ½ã€‚âœ… ä¸¾ä¸ªç”Ÿæ´»ä¾‹å­ï¼šä½ ç‚¹äº†ä¸€æ¯å¥¶èŒ¶ï¼Œåº—å‘˜åœ¨å°å£å‰åˆç»™ä½ åŠ äº†å±‚å¥¶ç›– â€”â€” è¿™å°±æ˜¯â€œè£…é¥°â€ï¼šå¥¶èŒ¶ï¼ˆåŸå‡½æ•°ï¼‰æ²¡å˜ï¼Œä½†å¤šäº†å¥¶ç›–ï¼ˆæ–°åŠŸèƒ½ï¼‰ã€‚pythondef login_required(func):    def wrapper(*args, **kwargs):        if session.get(&#39;username&#39;):            return func(*args, **kwargs)  # ç”¨æˆ·å·²ç™»å½•ï¼Œæ­£å¸¸æ‰§è¡ŒåŸå‡½æ•°        else:            return &#39;è¯·å…ˆç™»å½•ï¼&#39;  # æœªç™»å½•ï¼Œæ‹¦æˆªè¯·æ±‚    return wrapper@app.route(&#39;/profile&#39;)@login_required  # ğŸ‘ˆ è£…é¥°å™¨ï¼šç»™ /profile åŠ â€œç™»å½•æ£€æŸ¥â€åŠŸèƒ½def profile():    return &#39;ä¸ªäººä¸­å¿ƒé¡µé¢&#39;req = request.json æ˜¯ Flask ä¸­è·å–è¯·æ±‚ä½“ä¸­çš„ JSON æ•°æ®çš„ä¸€ç§æ–¹å¼ã€‚nonlocal æ˜¯ Python ä¸­çš„ä¸€ä¸ªå…³é”®å­—ï¼Œç”¨äºåœ¨åµŒå¥—å‡½æ•°ä¸­å£°æ˜ä¸€ä¸ªå˜é‡ä¸æ˜¯å±€éƒ¨å˜é‡ï¼Œè€Œæ˜¯æ¥è‡ªå¤–å±‚ï¼ˆéå…¨å±€ï¼‰ä½œç”¨åŸŸçš„å˜é‡ã€‚åç«¯è·¯ç”±å®šä½æ ¹æ® URL å®šä½åç«¯è·¯ç”±ï¼šæ¡†æ¶æœç´¢å…³é”®è¯ç¤ºä¾‹è·¯ç”±å®šä¹‰ç¤ºä¾‹Spring Boot@PostMapping(&quot;/v1/chunk/list&quot;) æˆ– @RequestMapping@PostMapping(&quot;/v1/chunk/list&quot;)æ•°æ®åº“ç´¢å¼•KEY devparamtemplate_create_time (create_time)ï¼šè¿™äº›è¯­å¥æ˜¯ç»™è¡¨é‡Œçš„å­—æ®µåŠ æ™®é€šç´¢å¼•ï¼ˆKEYï¼‰ï¼Œä½œç”¨æ˜¯ä¸ºäº†æé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†ä¸ä¼šé™åˆ¶å­—æ®µå€¼å”¯ä¸€ã€‚ç±»å‹ä½œç”¨æ˜¯å¦é˜²é‡å¤KEY æˆ– INDEXæå‡æŸ¥è¯¢æ€§èƒ½âŒ ä¸é™åˆ¶é‡å¤UNIQUE KEYé˜²é‡å¤å€¼ + æå‡æŸ¥è¯¢æ€§èƒ½âœ… é™åˆ¶é‡å¤ORM æ¨¡å‹ç¤ºä¾‹pythonclass DevParamTemplate(DataBaseModel):    id = CharField(max_length=32, primary_key=True)    name = CharField(max_length=100, null=False, help_text=&quot;æ¨¡æ¿åç§°&quot;, index=True)    agent_id = CharField(max_length=64, null=True, help_text=&quot;å…³è”çš„agentID&quot;, index=True)    auth = CharField(max_length=255, null=True, help_text=&quot;æˆæƒä¿¡æ¯&quot;)    template = TextField(null=True, help_text=&quot;å‚æ•°æ¨¡æ¿å†…å®¹&quot;, default=list)    status = CharField(max_length=1, null=True, default=&quot;1&quot;, help_text=&quot;çŠ¶æ€ 1æ˜¯å¼€å¯ 0æ˜¯å…³é—­&quot;, index=True)    class Meta:        db_table = &quot;dev_param_template&quot;Index=True è¡¨ç¤ºä¸ºè¿™ä¸ªå­—æ®µåˆ›å»ºæ™®é€šç´¢å¼•ï¼ˆæé«˜æŸ¥è¯¢é€Ÿåº¦ï¼Œä½†ä¸ä¼šé˜²æ­¢é‡å¤å€¼ï¼‰ã€‚æ¥å£è®¾è®¡ä¸é”™è¯¯ç æ”¹ä¸€ä¸‹æ¥å£ create_paramtemplate åŠ ä¸€æ­¥â€œå”¯ä¸€æ€§æ ¡éªŒâ€ï¼Œå¦åˆ™å½“ç”¨æˆ·ä¼ å…¥é‡å¤çš„ name æ—¶ï¼Œæ•°æ®åº“ä¼šæŠ›å‡º IntegrityErrorï¼Œå‰ç«¯åªä¼šæ”¶åˆ° 500ï¼ˆHTTP çŠ¶æ€ç ï¼Œè¡¨ç¤ºæœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼‰ã€‚åœºæ™¯HTTP çŠ¶æ€ç ä¸šåŠ¡è¿”å›ç ï¼ˆç¤ºä¾‹ï¼‰è¯·æ±‚æˆåŠŸ200code=0å‚æ•°é”™è¯¯400code=100æƒé™ä¸è¶³200ï¼ˆæˆ– 403ï¼‰code=401æœåŠ¡å™¨å¼‚å¸¸500code=500åˆ†å±‚æ¶æ„Service å±‚ï¼šController åªè´Ÿè´£æ¥æ”¶å‚æ•°ã€è°ƒç”¨æœåŠ¡ã€è¿”å›ç»“æœï¼Œä¸åšä¸šåŠ¡é€»è¾‘ã€‚Controllerï¼ˆæ§åˆ¶å™¨ï¼‰å±‚åƒå‰å°æ¥å¾…å‘˜ï¼šåªè´Ÿè´£â€œæ”¶å¿«é€’â€ï¼ˆæ¥æ”¶ HTTP è¯·æ±‚å‚æ•°ï¼‰æŠŠå¿«é€’äº¤ç»™åå°ä»“åº“ï¼ˆService å±‚ï¼‰å†æŠŠä»“åº“è¿”å›çš„ç»“æœæ‰“åŒ…å‘å›ç»™å®¢äººï¼ˆè¿”å› JSON ç»™å‰ç«¯ï¼‰ä¸€å¥è¯ï¼šä¸å¤„ç†ä¸šåŠ¡é€»è¾‘ï¼Œåªåšâ€œæ”¶ã€è½¬ã€è¿”â€ã€‚Serviceï¼ˆä¸šåŠ¡ï¼‰å±‚åƒåå°ä»“åº“ï¼šçœŸæ­£æ‹†åŒ…è£¹ã€æ£€æŸ¥è´§ç‰©ï¼ˆå‚æ•°æ ¡éªŒã€ä¸šåŠ¡è§„åˆ™ï¼‰å†³å®šèƒ½ä¸èƒ½å…¥åº“ï¼ˆåˆ¤æ–­åç§°æ˜¯å¦é‡å¤ï¼‰æŠŠæœ€ç»ˆå…¥åº“å•äº¤ç»™å·¥äººï¼ˆDAO / ORMï¼‰å»è½åº“ä¸€å¥è¯ï¼šæ‰€æœ‰â€œèƒ½ä¸èƒ½åšã€è¯¥æ€ä¹ˆåšâ€çš„åˆ¤æ–­éƒ½åœ¨è¿™é‡Œã€‚MVC / åˆ†å±‚ç»“æ„å°±æ˜¯æŠŠä»£ç æŒ‰èŒè´£åˆ‡æˆä¸‰å±‚ï¼ˆæˆ–æ›´å¤šå±‚ï¼‰ï¼šM Modelï¼ˆæ•°æ®æ¨¡å‹ï¼Œå¯¹åº”æ•°æ®åº“è¡¨ï¼‰V Viewï¼ˆå‰ç«¯é¡µé¢ / JSON è§†å›¾ï¼‰C Controllerï¼ˆä¸Šé¢è¯´çš„å‰å°æ¥å¾…å‘˜ï¼‰S Serviceï¼ˆåå°ä»“åº“ï¼‰å¥½å¤„ï¼šå„å±‚äº’ä¸å¹²æ‰°ï¼Œä»£ç å¥½ç»´æŠ¤ã€å¥½æµ‹è¯•ã€å¥½å¤ç”¨ã€‚Jenkins ä¸ CI/CDJenkinsï¼šJenkins æ˜¯ä¸€ä¸ªå¼€æºçš„ã€æä¾›å‹å¥½æ“ä½œç•Œé¢çš„æŒç»­é›†æˆï¼ˆCIï¼‰å·¥å…·ï¼Œèµ·æºäº Hudsonï¼Œä¸»è¦ç”¨äºæŒç»­ã€è‡ªåŠ¨çš„æ„å»º/æµ‹è¯•è½¯ä»¶é¡¹ç›®ã€‚CI/CD æ˜¯ä»€ä¹ˆï¼ŸCIï¼ˆContinuous Integrationï¼ŒæŒç»­é›†æˆï¼‰ï¼šä¸€ç§è½¯ä»¶å¼€å‘å®è·µã€‚æŒç»­é›†æˆå¼ºè°ƒå¼€å‘äººå‘˜æäº¤äº†æ–°ä»£ç ä¹‹åï¼Œç«‹åˆ»è¿›è¡Œæ„å»ºã€ï¼ˆå•å…ƒï¼‰æµ‹è¯•ã€‚æ ¹æ®æµ‹è¯•ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ç¡®å®šæ–°ä»£ç å’ŒåŸæœ‰ä»£ç èƒ½å¦æ­£ç¡®åœ°é›†æˆåœ¨ä¸€èµ·ã€‚CDï¼ˆContinuous Deliveryï¼ŒæŒç»­äº¤ä»˜ï¼‰ï¼šæ˜¯åœ¨æŒç»­é›†æˆçš„åŸºç¡€ä¸Šï¼Œå°†é›†æˆåçš„ä»£ç éƒ¨ç½²åˆ°æ›´è´´è¿‘çœŸå®è¿è¡Œç¯å¢ƒï¼ˆç±»ç”Ÿäº§ç¯å¢ƒï¼‰ä¸­ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å®Œæˆå•å…ƒæµ‹è¯•åï¼Œå¯ä»¥æŠŠä»£ç éƒ¨ç½²åˆ°è¿æ¥æ•°æ®åº“çš„ Staging ç¯å¢ƒä¸­æ›´å¤šçš„æµ‹è¯•ã€‚å¦‚æœä»£ç æ²¡æœ‰é—®é¢˜ï¼Œå¯ä»¥ç»§ç»­æ‰‹åŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒã€‚TomcatåŠŸèƒ½è¯´æ˜æ¥æ”¶æµè§ˆå™¨è¯·æ±‚åˆ«äººè¾“å…¥ç½‘å€ï¼ŒTomcat å¬è§â€œæœ‰äººæ•²é—¨â€æŠŠä½ çš„ä»£ç è·‘èµ·æ¥å®ƒå¸®ä½ æŠŠ Java ä»£ç å˜æˆç½‘é¡µï¼Œå›ç»™æµè§ˆå™¨ç®¡ç†â€œç½‘ç«™ç”Ÿå‘½â€ç½‘ç«™å¯åŠ¨ã€å…³é—­ã€é‡å¯ï¼Œéƒ½ç”± Tomcat ç®¡npm å‘½ä»¤npm run build = æŠŠâ€œå¼€å‘æ—¶çš„æºä»£ç â€å˜æˆâ€œç”¨æˆ·çœŸæ­£çœ‹åˆ°çš„ç½‘é¡µâ€ï¼Œå°±åƒæŠŠå¨æˆ¿åŠæˆå“å˜æˆç«¯ä¸Šæ¡Œçš„ç¡¬èœã€‚npm run dev = å¼€å‘ä¸“ç”¨â€œå®æ—¶é¢„è§ˆ + è°ƒè¯•â€æ¨¡å¼ï¼Œèœè¿˜æ²¡æ­£å¼ä¸Šæ¡Œï¼Œä½†å¨å¸ˆå¯ä»¥éšæ—¶å°å’¸æ·¡ã€‚çº¿ç¨‹æ± ğŸ§  åŸºæœ¬æ¦‚å¿µæ¦‚å¿µå«ä¹‰çº¿ç¨‹æ± ï¼ˆThreadPoolï¼‰æå‰å‡†å¤‡å¥½çš„å‡ ä¸ªâ€œå·¥ä½œçº¿ç¨‹â€ä»»åŠ¡ï¼ˆTaskï¼‰ä½ è¦æ‰§è¡Œçš„å‡½æ•°ï¼Œæ¯”å¦‚ get_data()Futureè¡¨ç¤ºâ€œå°†æ¥â€ä¼šè¿”å›ç»“æœçš„å¯¹è±¡ï¼Œä½ å¯ä»¥ç­‰å¾…å®ƒå®Œæˆsubmit()æäº¤ä¸€ä¸ªä»»åŠ¡ç»™çº¿ç¨‹æ± map()æ‰¹é‡å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œåƒ map() å‡½æ•°ä¸€æ ·with â€¦ asè‡ªåŠ¨å…³é—­çº¿ç¨‹æ± èµ„æºçš„æ¨èå†™æ³•ğŸ§ª ç¤ºä¾‹ä»£ç ï¼ˆå¸¦ä¸­æ–‡æ³¨é‡Šï¼‰pythonimport timefrom concurrent.futures import ThreadPoolExecutor, as_completed# å‡è®¾è¿™æ˜¯ä½ è¦å¹¶è¡Œæ‰§è¡Œçš„å‡½æ•°def fetch_data(name, wait=1):    print(f&quot;[&#123;name&#125;] å¼€å§‹æ‰§è¡Œä»»åŠ¡ï¼Œé¢„è®¡è€—æ—¶ &#123;wait&#125; ç§’&quot;)    time.sleep(wait)  # æ¨¡æ‹Ÿ I/O æ“ä½œï¼ˆæ¯”å¦‚è¯·æ±‚ç½‘é¡µï¼‰    print(f&quot;[&#123;name&#125;] å®Œæˆä»»åŠ¡&quot;)    return f&quot;&#123;name&#125; çš„æ•°æ®&quot;# ä¸»ç¨‹åºå¼€å§‹if __name__ == &quot;__main__&quot;:    # åˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæœ€å¤šåŒæ—¶æ‰§è¡Œ 3 ä¸ªä»»åŠ¡    with ThreadPoolExecutor(max_workers=3) as executor:        # æäº¤å¤šä¸ªä»»åŠ¡ç»™çº¿ç¨‹æ± æ‰§è¡Œ        futures = []        for i in range(5):            # submit(å‡½æ•°, å‚æ•°1, å‚æ•°2, ...)            future = executor.submit(fetch_data, f&quot;ä»»åŠ¡&#123;i+1&#125;&quot;, wait=i % 3 + 1)            futures.append(future)        # ç­‰å¾…æ‰€æœ‰ä»»åŠ¡å®Œæˆï¼ˆå¼‚æ­¥ï¼‰        for future in as_completed(futures):            result = future.result()  # è·å–è¿”å›å€¼ï¼ˆé˜»å¡ç›´åˆ°å®Œæˆï¼‰            print(f&quot;[ä¸»ç¨‹åº] æ”¶åˆ°ç»“æœï¼š&#123;result&#125;&quot;)ğŸ§  å­¦ä¹ å°ç¬”è®°ï¼ˆå»ºè®®è®°ä¸‹æ¥ï¼‰ç‚¹è¯´æ˜âœ… ThreadPoolExecutor(max_workers=N)N æ˜¯æœ€å¤šåŒæ—¶è¿è¡Œå‡ ä¸ªä»»åŠ¡ï¼ˆçº¿ç¨‹æ•°ï¼‰âœ… submit(func, *args)å¼‚æ­¥æ‰§è¡Œå‡½æ•°ï¼Œç«‹å³è¿”å› Futureâœ… as_completed(futures)æŒ‰ä»»åŠ¡å®Œæˆé¡ºåºè¿”å›ç»“æœâœ… .result()è·å–å‡½æ•°è¿è¡Œå®Œåçš„è¿”å›å€¼â— é€‚åˆ I/O å¯†é›†å‹ä»»åŠ¡æ¯”å¦‚ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æŸ¥è¯¢ã€æ–‡ä»¶æ“ä½œâŒ ä¸é€‚åˆ CPU å¯†é›†å‹å¦‚è®­ç»ƒæ¨¡å‹ã€æ•°å­¦è®¡ç®— â†’ è¯·ç”¨å¤šè¿›ç¨‹æ­£åˆ™è¡¨è¾¾å¼å¸¸ç”¨å…ƒå­—ç¬¦å­—ç¬¦æè¿°å®ä¾‹è¯•ä¸€è¯•[]ä¸€ç»„å­—ç¬¦&quot;[a-m]&quot;\ç¤ºæ„ç‰¹æ®Šåºåˆ—ï¼ˆä¹Ÿå¯ç”¨äºè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ï¼‰&quot;\d&quot;.ä»»ä½•å­—ç¬¦ï¼ˆæ¢è¡Œç¬¦é™¤å¤–ï¼‰&quot;he..o&quot;^èµ·å§‹äº&quot;^hello&quot;$ç»“æŸäº&quot;world$&quot;*é›¶æ¬¡æˆ–å¤šæ¬¡å‡ºç°&quot;aix*&quot;+ä¸€æ¬¡æˆ–å¤šæ¬¡å‡ºç°&quot;aix+&quot;&#123;&#125;ç¡®åˆ‡åœ°æŒ‡å®šçš„å‡ºç°æ¬¡æ•°&quot;al&#123;2&#125;&quot;``ä¸¤è€…ä»»ä¸€`&quot;fallsstays&quot;`ç‰¹æ®Šåºåˆ—å­—ç¬¦æè¿°å®ä¾‹\Aå¦‚æœæŒ‡å®šçš„å­—ç¬¦ä½äºå­—ç¬¦ä¸²çš„å¼€å¤´ï¼Œåˆ™è¿”å›åŒ¹é…é¡¹&quot;\AThe&quot;\bè¿”å›æŒ‡å®šå­—ç¬¦ä½äºå•è¯çš„å¼€å¤´æˆ–æœ«å°¾çš„åŒ¹é…é¡¹r&quot;\bain&quot;, r&quot;ain\b&quot;\Bè¿”å›æŒ‡å®šå­—ç¬¦å­˜åœ¨çš„åŒ¹é…é¡¹ï¼Œä½†ä¸åœ¨å•è¯çš„å¼€å¤´ï¼ˆæˆ–ç»“å°¾å¤„ï¼‰r&quot;\Bain&quot;, r&quot;ain\B&quot;\dè¿”å›å­—ç¬¦ä¸²åŒ…å«æ•°å­—çš„åŒ¹é…é¡¹ï¼ˆæ•°å­— 0-9ï¼‰&quot;\d&quot;\Dè¿”å›å­—ç¬¦ä¸²ä¸åŒ…å«æ•°å­—çš„åŒ¹é…é¡¹&quot;\D&quot;\sè¿”å›å­—ç¬¦ä¸²åŒ…å«ç©ºç™½å­—ç¬¦çš„åŒ¹é…é¡¹&quot;\s&quot;\Sè¿”å›å­—ç¬¦ä¸²ä¸åŒ…å«ç©ºç™½å­—ç¬¦çš„åŒ¹é…é¡¹&quot;\S&quot;\wè¿”å›ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­å­—ç¬¦ä¸²åŒ…å«ä»»ä½•å•è¯å­—ç¬¦ï¼ˆa-z, A-Z, 0-9, _ï¼‰&quot;\w&quot;\Wè¿”å›ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­å­—ç¬¦ä¸²ä¸åŒ…å«ä»»ä½•å•è¯å­—ç¬¦&quot;\W&quot;\Zå¦‚æœæŒ‡å®šçš„å­—ç¬¦ä½äºå­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œåˆ™è¿”å›åŒ¹é…é¡¹&quot;Spain\Z&quot;é›†åˆè¡¨è¾¾å¼æè¿°[arn]è¿”å›ä¸€ä¸ªåŒ¹é…é¡¹ï¼Œå…¶ä¸­å­˜åœ¨æŒ‡å®šå­—ç¬¦ï¼ˆa, r æˆ– nï¼‰ä¹‹ä¸€[a-n]è¿”å›å­—æ¯é¡ºåº a å’Œ n ä¹‹é—´çš„ä»»æ„å°å†™å­—ç¬¦åŒ¹é…é¡¹[^arn]è¿”å›é™¤ aã€r å’Œ n ä¹‹å¤–çš„ä»»æ„å­—ç¬¦çš„åŒ¹é…é¡¹[0123]è¿”å›å­˜åœ¨ä»»ä½•æŒ‡å®šæ•°å­—ï¼ˆ0ã€1ã€2 æˆ– 3ï¼‰çš„åŒ¹é…é¡¹[0-9]è¿”å› 0 ä¸ 9 ä¹‹é—´ä»»æ„æ•°å­—çš„åŒ¹é…[0-5][0-9]è¿”å›ä»‹äº 0 åˆ° 9 ä¹‹é—´çš„ä»»ä½•æ•°å­—çš„åŒ¹é…é¡¹[a-zA-Z]è¿”å›å­—æ¯é¡ºåº a å’Œ z ä¹‹é—´çš„ä»»ä½•å­—ç¬¦çš„åŒ¹é…ï¼Œå°å†™æˆ–å¤§å†™[+]åœ¨é›†åˆä¸­ï¼Œ+, *, ., `, (), $, &#123;&#125;æ²¡æœ‰ç‰¹æ®Šå«ä¹‰ï¼Œå› æ­¤[+]è¡¨ç¤ºè¿”å›å­—ç¬¦ä¸²ä¸­ä»»ä½•+` å­—ç¬¦çš„åŒ¹é…é¡¹æ­£åˆ™å‡½æ•°findall() å‡½æ•°è¿”å›åŒ…å«æ‰€æœ‰åŒ¹é…é¡¹çš„åˆ—è¡¨ã€‚search() å‡½æ•°æœç´¢å­—ç¬¦ä¸²ä¸­çš„åŒ¹é…é¡¹ï¼Œå¦‚æœå­˜åœ¨åŒ¹é…åˆ™è¿”å› Match å¯¹è±¡ã€‚å¦‚æœæœ‰å¤šä¸ªåŒ¹é…ï¼Œåˆ™ä»…è¿”å›é¦–ä¸ªåŒ¹é…é¡¹ã€‚sub() å‡½æ•°æŠŠåŒ¹é…æ›¿æ¢ä¸ºæ‚¨é€‰æ‹©çš„æ–‡æœ¬ã€‚æ¨¡å—ä¸è„šæœ¬âœ… æ¨¡å—ï¼ˆmoduleï¼‰å’Œè„šæœ¬ï¼ˆscriptï¼‰çš„åŒºåˆ«ç‰¹æ€§æ¨¡å—ï¼ˆModuleï¼‰è„šæœ¬ï¼ˆScriptï¼‰å®šä¹‰ä¸€ä¸ªå¯ä»¥è¢«å¯¼å…¥å’Œå¤ç”¨çš„ Python æ–‡ä»¶ä¸€ä¸ªå¯ä»¥ç›´æ¥è¿è¡Œçš„ Python æ–‡ä»¶ç”¨é€”æä¾›åŠŸèƒ½ã€å‡½æ•°ã€ç±»ä¾›å…¶ä»–ä»£ç è°ƒç”¨æ‰§è¡ŒæŸä¸ªç‰¹å®šä»»åŠ¡æˆ–ç¨‹åºæµç¨‹å…¥å£ç‚¹æ²¡æœ‰ä¸»å…¥å£ï¼Œä¾›å…¶ä»–æ–‡ä»¶ä½¿ç”¨é€šå¸¸æœ‰ if __name__ == &#39;__main__&#39;å¯¼å…¥æ–¹å¼import mymoduleä¸èƒ½è¢«åˆ«çš„è„šæœ¬å¯¼å…¥ï¼ˆå¦‚æœå®ƒåªæ˜¯ç”¨æ¥æ‰§è¡Œï¼‰é‡å¤ä½¿ç”¨æ€§é«˜ï¼Œå¯å¤ç”¨é€šå¸¸ä½ï¼Œæ›´ä¸“æ³¨æ‰§è¡Œä»»åŠ¡ä¸¾ä¾‹math.py, utils.pyï¼ˆå®šä¹‰å‡½æ•°ä¾›åˆ«äººç”¨ï¼‰Peewee ORM ç¤ºä¾‹æ¨¡å‹è½¬å­—å…¸pythonclass BaseModel(Model):    def to_dict(self):        return self.__dict__[&#39;__data__&#39;]  # ç›´æ¥è®¿é—®å¯¹è±¡å†…éƒ¨å­—å…¸å±æ€§    def to_human_model_dict(self, only_primary_with: list = None):        model_dict = self.__dict__[&#39;__data__&#39;]        if not only_primary_with:            return &#123;remove_field_name_prefix(k): v for k, v in model_dict.items()&#125;        human_model_dict = &#123;&#125;        for k in self._meta.primary_key.field_names:            human_model_dict[remove_field_name_prefix(k)] = model_dict[k]        for k in only_primary_with:            human_model_dict[k] = model_dict[f&#39;f_&#123;k&#125;&#39;]        return human_model_dict    @property    def meta(self) -&gt; Metadata:        return self._meta    @classmethod    def get_primary_keys_name(cls):        return cls._meta.primary_key.field_names if isinstance(cls._meta.primary_key, CompositeKey) else [cls._meta.primary_key.name]    @classmethod    def getter_by(cls, attr):        return operator.attrgetter(attr)(cls)    @classmethod    def query(cls, reverse=None, order_by=None, **kwargs):        filters = []        for f_n, f_v in kwargs.items():            attr_name = &#39;%s&#39; % f_n            if not hasattr(cls, attr_name) or f_v is None:                continue            if type(f_v) in &#123;list, set&#125;:                f_v = list(f_v)                if is_continuous_field(type(getattr(cls, attr_name))):                    if len(f_v) == 2:                        for i, v in enumerate(f_v):                            if isinstance(v, str) and f_n in auto_date_timestamp_field():                                f_v[i] = utils.date_string_to_timestamp(v)                        lt_value = f_v[0]                        gt_value = f_v[1]                        if lt_value is not None and gt_value is not None:                            filters.append(cls.getter_by(attr_name).between(lt_value, gt_value))                        elif lt_value is not None:                            filters.append(operator.attrgetter(attr_name)(cls) &gt;= lt_value)                        elif gt_value is not None:                            filters.append(operator.attrgetter(attr_name)(cls) &lt;= gt_value)                else:                    filters.append(operator.attrgetter(attr_name)(cls) &lt;&lt; f_v)            else:                filters.append(operator.attrgetter(attr_name)(cls) == f_v)        if filters:            query_records = cls.select().where(*filters)            if reverse is not None:                if not order_by or not hasattr(cls, f&quot;&#123;order_by&#125;&quot;):                    order_by = &quot;create_time&quot;                if reverse is True:                    query_records = query_records.order_by(cls.getter_by(f&quot;&#123;order_by&#125;&quot;).desc())                elif reverse is False:                    query_records = query_records.order_by(cls.getter_by(f&quot;&#123;order_by&#125;&quot;).asc())            return [query_record for query_record in query_records]        else:            return []Peewee åŸºç¡€Peewee æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼ŒORM çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯ç”¨ Python ç±»æ¥è¡¨ç¤ºæ•°æ®åº“è¡¨ã€‚åœ¨å®šä¹‰æ¨¡å‹ç±»æ—¶ï¼ŒMeta å°±æ˜¯ Peewee æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œå‘Šè¯‰ ORM æ¡†æ¶è¿™ä¸ªç±»åœ¨æ•°æ®åº“ä¸­åº”è¯¥æ€ä¹ˆè¡¨ç°ã€‚è¿‡æ»¤å™¨.startswith(prefix)ï¼šæœç´¢ä»¥å‰ç¼€å¼€å¤´çš„å€¼.endswith(suffix)ï¼šæœç´¢ä»¥åç¼€ç»“å°¾çš„å€¼.regexp(exp)ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰.iregexp(exp)ï¼šæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼ˆä¸åŒºåˆ†å¤§å°å†™ï¼‰.cast(type)ï¼šå°†åˆ—çš„å€¼è½¬æ¢ä¸ºç»™å®šç±»å‹Utils å·¥å…·ç›®å½•åœ¨ä¸€ä¸ªé¡¹ç›®é‡Œï¼Œutilsï¼ˆutilitiesï¼‰ æ–‡ä»¶æˆ–ç›®å½•å¹¶ä¸æ˜¯å®˜æ–¹è§„èŒƒï¼Œè€Œæ˜¯çº¦å®šä¿—æˆçš„â€œå·¥å…·ç®±â€ã€‚å®ƒçš„æ ¸å¿ƒå®šä½æ˜¯ï¼šæ”¾ç½®é‚£äº›ä¸ä¸šåŠ¡é€»è¾‘è§£è€¦ã€å¯åœ¨å¤šå¤„å¤ç”¨ã€ä¸æ¡†æ¶/åº“æ— å…³çš„é€šç”¨ä»£ç ã€‚</code></pre>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>ç”Ÿæˆå™¨</title>
    <link href="/2025/08/13/%E7%94%9F%E6%88%90%E5%99%A8/"/>
    <url>/2025/08/13/%E7%94%9F%E6%88%90%E5%99%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="ç”Ÿæˆå™¨å‡½æ•°å’Œç”Ÿæˆå™¨å¯¹è±¡çš„åŒºåˆ«"><a href="#ç”Ÿæˆå™¨å‡½æ•°å’Œç”Ÿæˆå™¨å¯¹è±¡çš„åŒºåˆ«" class="headerlink" title="ç”Ÿæˆå™¨å‡½æ•°å’Œç”Ÿæˆå™¨å¯¹è±¡çš„åŒºåˆ«"></a>ç”Ÿæˆå™¨å‡½æ•°å’Œç”Ÿæˆå™¨å¯¹è±¡çš„åŒºåˆ«</h2><p>ç”Ÿæˆå™¨å‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå¹¶ä¸ä¼šç«‹å³æ‰§è¡Œå‡½æ•°ä½“ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ã€‚åªæœ‰åœ¨<strong>è¿­ä»£ç”Ÿæˆå™¨å¯¹è±¡</strong>æ—¶ï¼Œä»£ç æ‰ä¼šä¸€æ­¥æ­¥æ‰§è¡Œã€‚</p><hr><h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">gen</span>():<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generator started&quot;</span>)<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Yielded 1, continue...&quot;</span>)<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Yielded 2, finish&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling gen()...&quot;</span>)<br>g = gen()  <span class="hljs-comment"># åˆ›å»ºç”Ÿæˆå™¨å¯¹è±¡ï¼Œä¸æ‰§è¡Œå‡½æ•°ä½“</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generator object created:&quot;</span>, g)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling next(g)...&quot;</span>)<br>val1 = <span class="hljs-built_in">next</span>(g)  <span class="hljs-comment"># æ‰§è¡Œåˆ°ç¬¬ä¸€ä¸ª yield</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Received:&quot;</span>, val1)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling next(g) again...&quot;</span>)<br>val2 = <span class="hljs-built_in">next</span>(g)  <span class="hljs-comment"># æ‰§è¡Œåˆ°ç¬¬äºŒä¸ª yield</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Received:&quot;</span>, val2)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Calling next(g) final time...&quot;</span>)<br><span class="hljs-keyword">try</span>:<br>    val3 = <span class="hljs-built_in">next</span>(g)  <span class="hljs-comment"># æ‰§è¡Œå‰©ä½™ä»£ç ï¼Œç»“æŸ</span><br><span class="hljs-keyword">except</span> StopIteration:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Generator exhausted&quot;</span>)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Done.&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¿è¡Œç»“æœ<br>Calling gen()â€¦<br>Generator object created: &lt;generator object gen at 0xâ€¦&gt;<br>Calling next(g)â€¦<br>Generator started<br>Received: 1<br>Calling next(g) againâ€¦<br>Yielded 1, continueâ€¦<br>Received: 2<br>Calling next(g) final timeâ€¦<br>Yielded 2, finish<br>Generator exhausted<br>Done.</p><p>æœ¯è¯­è§£é‡Š<br>è¿­ä»£å™¨é©±åŠ¨<br>è¿­ä»£å™¨ä¸ä¼šè‡ªå·±æ‰§è¡Œï¼Œéœ€è¦å¤–éƒ¨è°ƒç”¨ next() æˆ–ä½¿ç”¨ for å¾ªç¯æ¥â€œé©±åŠ¨â€å®ƒã€‚</p><p>æ¯æ¬¡è°ƒç”¨ next()ï¼Œä»£ç ä¼šä»ä¸Šä¸€æ¬¡ yield åçš„ä½ç½®ç»§ç»­è¿è¡Œï¼Œç›´åˆ°é‡åˆ°ä¸‹ä¸€ä¸ª yield æˆ–ç»“æŸã€‚</p><p>next()<br>Python å†…ç½®å‡½æ•°ï¼Œç­‰ä»·äºè°ƒç”¨è¿­ä»£å™¨çš„ <strong>next</strong>() æ–¹æ³•ã€‚</p><p>åŠŸèƒ½ï¼šè¿è¡Œç”Ÿæˆå™¨åˆ°ä¸‹ä¸€ä¸ª yieldï¼Œè¿”å›å…¶åçš„å€¼ã€‚</p><p>å½“æ²¡æœ‰æ›´å¤šå€¼æ—¶ï¼Œä¼šæŠ›å‡º StopIteration å¼‚å¸¸ã€‚</p><p>callable(obj)<br>Python å†…ç½®å‡½æ•°ï¼Œç”¨äºåˆ¤æ–­å¯¹è±¡ obj æ˜¯å¦å¯è°ƒç”¨ã€‚</p><p>å¯è°ƒç”¨å¯¹è±¡åŒ…æ‹¬ï¼šå‡½æ•°ã€æ–¹æ³•ï¼Œæˆ–è€…å®ç°äº† <strong>call</strong>() æ–¹æ³•çš„ç±»å®ä¾‹ã€‚</p><p>callable(res) çš„åº”ç”¨åœºæ™¯<br>åœ¨æŸäº›ä»£ç ï¼ˆå¦‚ res &#x3D; self._run()ï¼‰ä¸­ï¼š<br>åœºæ™¯res ç±»å‹callable(res)å¤„ç†æ–¹å¼<br>æ™®é€šç»„ä»¶å­—ç¬¦ä¸²ã€å­—å…¸ã€DataFrameâ€¦Falseç›´æ¥è®°å½•è€—æ—¶<br>æµå¼ç»„ä»¶ç”Ÿæˆå™¨å‡½æ•°ã€functools.partialTrueå†è°ƒç”¨ä¸€æ¬¡è·å–ç”Ÿæˆå™¨ï¼Œå¼€å§‹è¿­ä»£</p><p>ä¸ºä»€ä¹ˆä¸èƒ½ç«‹å³è®°å½•è€—æ—¶ï¼Ÿ<br>å¦‚æœ res æ˜¯ç”Ÿæˆå™¨å‡½æ•°ï¼Œè¿˜æ²¡å¼€å§‹è¿­ä»£å°±è®°å½•ç»“æŸæ—¶é—´ï¼Œä¼šå¯¼è‡´è€—æ—¶è¢«ä¸¥é‡ä½ä¼°ï¼Œæ— æ³•åæ˜ çœŸå®æ‰§è¡Œæ—¶é—´ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>ç”Ÿæˆå™¨</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æµ‹è¯•æ–‡ç« </title>
    <link href="/2025/08/01/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/"/>
    <url>/2025/08/01/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/</url>
    
    <content type="html"><![CDATA[<p><img src="/./%E5%A3%81%E7%BA%B8.jpg" alt="å£çº¸"></p><img src="/2025/08/01/%E6%B5%8B%E8%AF%95%E6%96%87%E7%AB%A0/%E5%A3%81%E7%BA%B8.jpg" class="">]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2025/08/01/hello-world/"/>
    <url>/2025/08/01/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>çˆ¬è™«</title>
    <link href="/2025/08/01/%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0_hexo/"/>
    <url>/2025/08/01/%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0_hexo/</url>
    
    <content type="html"><![CDATA[<p><em><strong>çˆ¬è™«</strong></em>*<br>å‘é€ HTTP è¯·æ±‚ï¼šçˆ¬è™«é€šè¿‡ HTTP è¯·æ±‚ä»ç›®æ ‡ç½‘ç«™è·å– HTML é¡µé¢ï¼Œå¸¸ç”¨çš„åº“åŒ…æ‹¬ requestsã€‚<br>è§£æ HTML å†…å®¹ï¼šè·å– HTML é¡µé¢åï¼Œçˆ¬è™«éœ€è¦è§£æå†…å®¹å¹¶æå–æ•°æ®ï¼Œå¸¸ç”¨çš„åº“æœ‰ BeautifulSoupã€lxmlã€Scrapy ç­‰ã€‚<br>æå–æ•°æ®ï¼šé€šè¿‡å®šä½ HTML å…ƒç´ ï¼ˆå¦‚æ ‡ç­¾ã€å±æ€§ã€ç±»åç­‰ï¼‰æ¥æå–æ‰€éœ€çš„æ•°æ®ã€‚<br>å­˜å‚¨æ•°æ®ï¼šå°†æå–çš„æ•°æ®å­˜å‚¨åˆ°æ•°æ®åº“ã€CSV æ–‡ä»¶ã€JSON æ–‡ä»¶ç­‰æ ¼å¼ä¸­ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨æˆ–åˆ†æã€‚</p><p>from bs4 import BeautifulSoup<br>    # è¯»å–ç¤ºä¾‹ HTML æ–‡ä»¶<br>html &#x3D; â€œâ€â€</p><html>    <head>        <title>Example Page</title>    </head>    <body>        <h1>Hello, World!</h1>    </body></html>"""    # åˆ›å»º BeautifulSoup å¯¹è±¡ï¼Œå¹¶æŒ‡å®šè§£æå™¨ä¸º lxmlsoup = BeautifulSoup(html, 'lxml')    # æ‰¾åˆ°ç¬¬ä¸€ä¸ª h1 æ ‡ç­¾ï¼Œå¹¶è¾“å‡ºå…¶æ–‡æœ¬å†…å®¹h1 = soup.find('h1')print(h1.text)<h3 id="å¯ä»¥ä½¿ç”¨-BeautifulSoup-å¯¹è±¡-soup-æ¥æå–å…¶ä¸­çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œè¦è·å–æ–‡æ¡£æ ‡é¢˜ï¼Œå¯ä»¥ä½¿ç”¨-title-å±æ€§"><a href="#å¯ä»¥ä½¿ç”¨-BeautifulSoup-å¯¹è±¡-soup-æ¥æå–å…¶ä¸­çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œè¦è·å–æ–‡æ¡£æ ‡é¢˜ï¼Œå¯ä»¥ä½¿ç”¨-title-å±æ€§" class="headerlink" title="å¯ä»¥ä½¿ç”¨ BeautifulSoup å¯¹è±¡ soup æ¥æå–å…¶ä¸­çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œè¦è·å–æ–‡æ¡£æ ‡é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ title å±æ€§"></a>å¯ä»¥ä½¿ç”¨ BeautifulSoup å¯¹è±¡ soup æ¥æå–å…¶ä¸­çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œè¦è·å–æ–‡æ¡£æ ‡é¢˜ï¼Œå¯ä»¥ä½¿ç”¨ title å±æ€§</h3><p>print(soup.title)<br>    # <title>Example Page</title>   </p><h3 id="è¦è·å–æ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨-text-å±æ€§æˆ–-string-å±æ€§ï¼š"><a href="#è¦è·å–æ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨-text-å±æ€§æˆ–-string-å±æ€§ï¼š" class="headerlink" title="è¦è·å–æ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ text å±æ€§æˆ– string å±æ€§ï¼š"></a>è¦è·å–æ ‡ç­¾çš„æ–‡æœ¬å†…å®¹ï¼Œå¯ä»¥ä½¿ç”¨ text å±æ€§æˆ– string å±æ€§ï¼š</h3><p>print(soup.h1.text)</p><h3 id="è¦è·å–æ ‡ç­¾çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨-attrs-å±æ€§ï¼š"><a href="#è¦è·å–æ ‡ç­¾çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨-attrs-å±æ€§ï¼š" class="headerlink" title="è¦è·å–æ ‡ç­¾çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ attrs å±æ€§ï¼š"></a>è¦è·å–æ ‡ç­¾çš„å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨ attrs å±æ€§ï¼š</h3><p>print(soup.a.attrs[â€˜hrefâ€™])</p><h3 id="è¦è·å–æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨-find-all-æ–¹æ³•ï¼š"><a href="#è¦è·å–æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨-find-all-æ–¹æ³•ï¼š" class="headerlink" title="è¦è·å–æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ find_all æ–¹æ³•ï¼š"></a>è¦è·å–æ‰€æœ‰ç¬¦åˆæ¡ä»¶çš„æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ find_all æ–¹æ³•ï¼š</h3><h1 id="è·å–æ‰€æœ‰-p-æ ‡ç­¾"><a href="#è·å–æ‰€æœ‰-p-æ ‡ç­¾" class="headerlink" title="è·å–æ‰€æœ‰ p æ ‡ç­¾"></a>è·å–æ‰€æœ‰ p æ ‡ç­¾</h1><p>ps &#x3D; soup.find_all(â€˜pâ€™)<br>for p in ps:<br>    print(p.text)<br>    #    This is the first paragraph.<br>    # This is the second paragraph.<br>    # è·å– class ä¸º â€œsecondâ€ çš„ p æ ‡ç­¾<br>    p &#x3D; soup.find(â€˜pâ€™, {â€˜classâ€™: â€˜secondâ€™})<br>print(p.text)<br>    # This is the second paragraph.</p><h3 id="BeautifulSoup-æ”¯æŒä½¿ç”¨-CSS-é€‰æ‹©å™¨æ¥æŸ¥æ‰¾æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨-select-æ–¹æ³•"><a href="#BeautifulSoup-æ”¯æŒä½¿ç”¨-CSS-é€‰æ‹©å™¨æ¥æŸ¥æ‰¾æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨-select-æ–¹æ³•" class="headerlink" title="BeautifulSoup æ”¯æŒä½¿ç”¨ CSS é€‰æ‹©å™¨æ¥æŸ¥æ‰¾æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ select æ–¹æ³•"></a>BeautifulSoup æ”¯æŒä½¿ç”¨ CSS é€‰æ‹©å™¨æ¥æŸ¥æ‰¾æ ‡ç­¾ï¼Œå¯ä»¥ä½¿ç”¨ select æ–¹æ³•</h3>]]></content>
    
    
    <categories>
      
      <category>Flask</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Webå¼€å‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Flask</title>
    <link href="/2025/08/01/Flask%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0_hexo_cleaned/"/>
    <url>/2025/08/01/Flask%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0_hexo_cleaned/</url>
    
    <content type="html"><![CDATA[<p><strong>Flask</strong></p><h1 id="ä¸€ã€-ç®€ä»‹"><a href="#ä¸€ã€-ç®€ä»‹" class="headerlink" title="ä¸€ã€ ç®€ä»‹"></a>ä¸€ã€ ç®€ä»‹</h1><p>Flaskæ˜¯ä¸€ä¸ªéå¸¸å°çš„PythonWebæ¡†æ¶ï¼Œè¢«ç§°ä¸ºå¾®å‹æ¡†æ¶ï¼›åªæä¾›äº†ä¸€ä¸ªç¨³å¥çš„æ ¸å¿ƒï¼Œå…¶ä»–åŠŸèƒ½å…¨éƒ¨æ˜¯é€šè¿‡æ‰©å±•å®ç°çš„</p><h1 id="äºŒã€-æ¦‚è¦"><a href="#äºŒã€-æ¦‚è¦" class="headerlink" title="äºŒã€ æ¦‚è¦"></a>äºŒã€ æ¦‚è¦</h1><p>1ï¼‰å®‰è£…ï¼š pip install flask<br>2ï¼‰ç»„æˆï¼šWSGIç³»ç»Ÿã€è°ƒè¯•ã€è·¯ç”±<br>3ï¼‰æ¨¡æ¿å¼•æ“ï¼šJinja2ï¼ˆç”±Flaskæ ¸å¿ƒå¼€å‘è€…äººå‘˜å¼€å‘ï¼‰<br>4ï¼‰ä½¿ç”¨åˆ°è£…é¥°å™¨ï¼šä»¥@å¼€å¤´çš„ä»£ç æ–¹æ³•</p><h1 id="ä¸‰ã€-çŸ¥è¯†ç‚¹ï¼ˆé™„ä»£ç ï¼‰"><a href="#ä¸‰ã€-çŸ¥è¯†ç‚¹ï¼ˆé™„ä»£ç ï¼‰" class="headerlink" title="ä¸‰ã€ çŸ¥è¯†ç‚¹ï¼ˆé™„ä»£ç ï¼‰"></a>ä¸‰ã€ çŸ¥è¯†ç‚¹ï¼ˆé™„ä»£ç ï¼‰</h1><h2 id="1-FlaskåŸºç¡€å…¥é—¨"><a href="#1-FlaskåŸºç¡€å…¥é—¨" class="headerlink" title="1. FlaskåŸºç¡€å…¥é—¨"></a>1. FlaskåŸºç¡€å…¥é—¨</h2><h3 id="1ï¼‰è·¯ç”±routeçš„åˆ›å»ºï¼š"><a href="#1ï¼‰è·¯ç”±routeçš„åˆ›å»ºï¼š" class="headerlink" title="1ï¼‰è·¯ç”±routeçš„åˆ›å»ºï¼š"></a>1ï¼‰è·¯ç”±routeçš„åˆ›å»ºï¼š</h3><p>methods&#x3D;[]æ”¯æŒçš„è¯·æ±‚æ–¹å¼å‚æ•°è®¾ç½®ï¼Œä¸è®¾ç½®é»˜è®¤ä¸ºGET<br>  @app.route(â€˜&#x2F;loginâ€™, methods&#x3D;[â€˜GETâ€™, â€˜PoStâ€™])  # è¯·æ±‚å‚æ•°è®¾ç½®ä¸åŒºåˆ†å¤§å°å†™ï¼Œæºç ä¸­è‡ªåŠ¨è¿›è¡Œäº†upper<br>  def login():  âœ… è®¿é—® &#x2F;login è¿™ä¸ªåœ°å€æ—¶ï¼š<br>ğŸ”¹ å¦‚æœæ˜¯ GET è¯·æ±‚ï¼ˆæ¯”å¦‚ä½ åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ &#x2F;loginï¼‰å°±è¿”å›ä¸€ä¸ª login.html é¡µé¢ï¼ˆç™»å½•è¡¨å•é¡µé¢ï¼‰<br>      if request.method &#x3D;&#x3D; â€˜GETâ€™:<br>          return render_template(â€˜login.htmlâ€™)<br>    ğŸ”¹ å¦‚æœæ˜¯ POST è¯·æ±‚ï¼ˆæ¯”å¦‚ä½ åœ¨è¡¨å•é‡Œç‚¹â€œç™»å½•â€æŒ‰é’®æäº¤ï¼‰ï¼šä»è¡¨å•é‡Œå–å‡ºä¸¤ä¸ªå­—æ®µï¼š<br>      elif request.method &#x3D;&#x3D; â€˜POSTâ€™:<br>          username &#x3D; request.form.get(â€˜usernameâ€™)<br>          pwd &#x3D; request.form.get(â€˜pwdâ€™)<br>          ğŸ”¹å¦‚æœç”¨æˆ·åæ˜¯ yang ä¸”å¯†ç æ˜¯ 123456ï¼š<br>          if username &#x3D;&#x3D; â€˜yangâ€™ and pwd &#x3D;&#x3D; â€˜123456â€™:<br>          ğŸ”¹æŠŠç”¨æˆ·åå­˜åˆ° sessionï¼ˆè¡¨ç¤ºç”¨æˆ·å·²ç™»å½•ï¼‰<br>              session[â€˜usernameâ€™] &#x3D; username<br>              return â€˜login successed 200  ok!â€™<br>          else:<br>             return â€˜login failed!!!â€™</p><p>ğŸ”¹è§†å›¾å‡½æ•°ï¼šâœ… ä¸€å¥è¯è§£é‡Š<br>è§†å›¾å‡½æ•°ï¼ˆview functionï¼‰å°±æ˜¯ Flask ä¸­â€œå¤„ç†æŸä¸ª URL è¯·æ±‚å¹¶è¿”å›å“åº”â€çš„ Python å‡½æ•°ã€‚å®ƒç›¸å½“äº MVC é‡Œçš„ Cï¼ˆControllerï¼‰+Vï¼ˆViewï¼‰ çš„ç»“åˆä½“ï¼šæ¥æ”¶è¯·æ±‚ â†’ åšä¸šåŠ¡é€»è¾‘ â†’ æŠŠç»“æœï¼ˆHTML&#x2F;JSON&#x2F;æ–‡æœ¬ï¼‰è¿”å›</p><p>url_map.convertersFlask çš„è½¬æ¢å™¨æ³¨å†Œè¡¨ï¼ŒæŠŠè‡ªå·±çš„è½¬æ¢å™¨â€œæŒ‚â€è¿›å»<br>&lt;re(â€¦)&gt;è·¯ç”±é‡Œçš„å°–æ‹¬å·è¡¨è¾¾å¼ï¼Œç”¨æ¥æ•è·å¹¶è½¬æ¢ URL ç‰‡æ®µ<br>âœ… ç¬¬ 2 æ­¥ï¼šæˆ‘ä»¬æƒ³å¹²å•¥ï¼Ÿè®©è·¯ç”±æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ï¼<br>âœ… ç¬¬ 3 æ­¥ï¼šå†™ä¸ªâ€œæ‰‹æœºéªŒè¯â€è½¬æ¢å™¨<br>class RegexConverter(BaseConverter):<br>    def <strong>init</strong>(self, url_map, regex):<br>        super().<strong>init</strong>(url_map)   # å…ˆè®©çˆ¶ç±»å¹²æ´»<br>        self.regex &#x3D; regex          # æŠŠæˆ‘ä»¬ä¼ çš„æ­£åˆ™ä¿å­˜èµ·æ¥<br>    def to_python(self, value):<br>        print(â€˜to_pythonè¢«è°ƒç”¨ï¼Œæ‹¿åˆ°å€¼ï¼šâ€™, value)<br>        return value                # åŸæ ·è¿”å›å³å¯<br><strong>init</strong>ï¼šFlask ä¼šæŠŠè·¯ç”±é‡Œå†™çš„æ­£åˆ™è‡ªåŠ¨å¡ç»™ä½ ï¼ˆregex å‚æ•°ï¼‰ã€‚<br>to_pythonï¼šFlask æ¯æ•è·ä¸€æ¬¡ï¼Œå°±è°ƒç”¨å®ƒï¼Œä½ å¯ä»¥åšé¢å¤–å¤„ç†ï¼ˆè¿™é‡Œåªæ˜¯æ‰“å°ï¼‰ã€‚<br>âœ… ç¬¬ 4 æ­¥ï¼šæŠŠè½¬æ¢å™¨â€œæŒ‚â€åˆ° Flask ä¸Š<br>app.url_map.converters[â€˜reâ€™] &#x3D; RegexConverter    appä½ åˆ›å»ºçš„ Flask åº”ç”¨<br>ç°åœ¨å¯ä»¥ç”¨ &lt;re(â€¦)&gt; è¿™ç§è¯­æ³•äº†ï¼<br>âœ… ç¬¬ 5 æ­¥ï¼šç”¨è½¬æ¢å™¨å†™è·¯ç”±<br>@app.route(â€œ&#x2F;index&#x2F;&lt;re(â€˜1\d{10}â€™):value&gt;â€)<br>def index(value):<br>    print(â€˜è§†å›¾å‡½æ•°æ”¶åˆ°çš„ valueï¼šâ€™, value)<br>    return â€œHello World!<br>â€˜1\d{10}â€™ æ˜¯æ­£åˆ™ï¼šä»¥ 1 å¼€å¤´ã€åé¢ 10 ä½æ•°å­— â†’ 11 ä½æ‰‹æœºå·ã€‚<br>&lt;re(â€¦)&gt; é‡Œçš„ re å°±æ˜¯åˆšæ‰æ³¨å†Œçš„è½¬æ¢å™¨ã€‚<br>æ•è·åˆ°çš„å­—ç¬¦ä¸²ä¼šç» to_python å¤„ç†åï¼Œä¼ ç»™ index(value)ã€‚</p><h3 id="2ï¼‰endpointçš„ä½œç”¨"><a href="#2ï¼‰endpointçš„ä½œç”¨" class="headerlink" title="2ï¼‰endpointçš„ä½œç”¨"></a>2ï¼‰endpointçš„ä½œç”¨</h3><p>ğŸ”¹è¯´æ˜ï¼šæ¯ä¸ªappä¸­éƒ½å­˜åœ¨ä¸€ä¸ªurl_mapï¼Œè¿™ä¸ªurl_mapä¸­åŒ…å«äº†urlåˆ°endpointçš„æ˜ å°„ï¼›<br>ğŸ”¹ä½œç”¨ï¼šå½“requestè¯·æ±‚ä¼ æ¥ä¸€ä¸ªurlçš„æ—¶å€™ï¼Œä¼šåœ¨url_mapä¸­å…ˆé€šè¿‡ruleæ‰¾åˆ°endpointï¼Œç„¶åå†åœ¨view_functionsä¸­æ ¹æ®endpointå†æ‰¾åˆ°å¯¹åº”çš„è§†å›¾å‡½æ•°view_func</p><p>è‡ªå®šä¹‰è£…é¥°å™¨è£…é¥°å¤šä¸ªè§†å›¾å‡½æ•°æ—¶ï¼Œå¦‚æœåœ¨è·¯ç”±ä¸­æ²¡æœ‰æŒ‡å®šå”¯ä¸€çš„endpoint,<br> åˆ™æ‰€æœ‰è£…é¥°çš„è§†å›¾å‡½æ•°è¿”å›çš„éƒ½æ˜¯è£…é¥°å™¨ä¸­çš„innerå‡½æ•°ï¼ŒåŒåå› æ­¤ä¼šæŠ¥é”™<br> def decorator(f):<br>    def inner(*args, **kwargs):<br>        return f(*args, **kwargs)<br>    return inner          # â† æ‰€æœ‰è¢«è£…é¥°çš„å‡½æ•°æœ€ç»ˆéƒ½å« inner</p><p>@app.route(â€˜&#x2F;aâ€™)<br>@decorator<br>def a():                  # å®é™…æ³¨å†Œçš„æ˜¯ inner<br>    return â€˜aâ€™</p><p>@app.route(â€˜&#x2F;bâ€™)<br>@decorator<br>def b():                  # åˆæ³¨å†Œä¸€ä¸ª inner â†’ åŒåå†²çªï¼<br>    return â€˜bâ€™</p><h3 id="3ï¼‰requestå¯¹è±¡çš„ä½¿ç”¨"><a href="#3ï¼‰requestå¯¹è±¡çš„ä½¿ç”¨" class="headerlink" title="3ï¼‰requestå¯¹è±¡çš„ä½¿ç”¨"></a>3ï¼‰requestå¯¹è±¡çš„ä½¿ç”¨</h3><p>render_template()ï¼šå¯ä»¥ç”¨äºå‘ˆç°ä¸€ä¸ªæˆ‘ä»¬ç¼–å†™çš„htmlæ–‡ä»¶æ¨¡æ¿</p><h3 id="4ï¼‰è¯·æ±‚é’©å­before-after-request"><a href="#4ï¼‰è¯·æ±‚é’©å­before-after-request" class="headerlink" title="4ï¼‰è¯·æ±‚é’©å­before&#x2F;after_request"></a>4ï¼‰è¯·æ±‚é’©å­before&#x2F;after_request</h3><p>ğŸ”¹æƒ³è¦åœ¨æ­£å¸¸æ‰§è¡Œçš„ä»£ç çš„å‰ã€ä¸­ã€åæ—¶æœŸï¼Œå¼ºè¡Œæ‰§è¡Œä¸€æ®µæˆ‘ä»¬æƒ³è¦æ‰§è¡Œçš„åŠŸèƒ½ä»£ç ï¼Œä¾¿è¦ç”¨åˆ°é’©å­å‡½æ•°â€”â€”ç”¨ç‰¹å®šè£…é¥°å™¨è£…é¥°çš„å‡½æ•°ã€‚<br>1.before_requestï¼šåœ¨æ¯ä¸€æ¬¡è¯·æ±‚ä¹‹å‰è°ƒç”¨ï¼›æ‰§è¡Œé¡ºåºæ˜¯å…ˆç»‘å®šçš„å…ˆæ‰§è¡Œï¼›<br>2.after_requestï¼šæ¯ä¸€æ¬¡è¯·æ±‚ä¹‹åéƒ½ä¼šè°ƒç”¨ï¼›æ‰§è¡Œçš„é¡ºåºæ˜¯å…ˆç»‘å®šçš„åæ‰§è¡Œï¼›</p><h3 id="5ï¼‰redirecté‡å®šå‘"><a href="#5ï¼‰redirecté‡å®šå‘" class="headerlink" title="5ï¼‰redirecté‡å®šå‘"></a>5ï¼‰redirecté‡å®šå‘</h3><p>ğŸ”¹åœ¨flask ä¸­ï¼Œé‡å®šå‘æ˜¯é€šè¿‡flask.redirect(location, code&#x3D;302)è¿™ä¸ªå‡½æ•°æ¥å®ç°çš„ï¼Œlocationè¡¨ç¤ºéœ€è¦é‡å®šå‘çš„url, åº”è¯¥é…åˆurl_forå‡½æ•°æ¥ä½¿ç”¨ï¼Œ codeè¡¨ç¤ºé‡‡ç”¨å“ªä¸ªé‡å®šå‘ï¼Œé»˜è®¤æ˜¯302ï¼Œå³ä¸´æ—¶æ€§é‡å®šå‘, å¯ä»¥ä¿®æ”¹ä¸º301æ¥å®ç°æ°¸æ€§é‡å®šå‘ï¼›</p><h3 id="6ï¼‰è¿”å›jsonæ•°æ®ç»™å‰ç«¯"><a href="#6ï¼‰è¿”å›jsonæ•°æ®ç»™å‰ç«¯" class="headerlink" title="6ï¼‰è¿”å›jsonæ•°æ®ç»™å‰ç«¯"></a>6ï¼‰è¿”å›jsonæ•°æ®ç»™å‰ç«¯</h3><p>1.ä½¿ç”¨ï¼šmake_responseæ–¹æ³•å’Œjsonåº“å…±åŒå®Œæˆ<br>response &#x3D; make_response(json.dumps(data,ensure_ascii&#x3D;False))<br>   response.mimetype &#x3D; â€˜application&#x2F;jsonâ€™<br>   return response<br>2.ä½¿ç”¨ï¼šjsonifyåº“å®ç°ï¼Œå‡å°‘ä»£ç è¡Œæ•°</p><h3 id="7ï¼‰abortå‡½æ•°çš„ä½¿ç”¨"><a href="#7ï¼‰abortå‡½æ•°çš„ä½¿ç”¨" class="headerlink" title="7ï¼‰abortå‡½æ•°çš„ä½¿ç”¨"></a>7ï¼‰abortå‡½æ•°çš„ä½¿ç”¨</h3><p>ğŸ”¹ä½¿ç”¨ç±»ä¼¼äºpythonä¸­çš„raiseå‡½æ•°ï¼Œå¯ä»¥åœ¨éœ€è¦é€€å‡ºè¯·æ±‚çš„åœ°æ–¹æŠ›å‡ºé”™è¯¯ï¼Œå¹¶ç»“æŸè¯¥è¯·æ±‚ï¼›å¯ä»¥ä½¿ç”¨errorhandler()è£…é¥°å™¨æ¥è¿›è¡Œå¼‚å¸¸çš„æ•è·ä¸è‡ªå®šä¹‰ï¼š</p><h3 id="8ï¼‰url-forå®ç°åè½¬"><a href="#8ï¼‰url-forå®ç°åè½¬" class="headerlink" title="8ï¼‰url_forå®ç°åè½¬"></a>8ï¼‰url_forå®ç°åè½¬</h3><p>ğŸ”¹è§†å›¾å‡½æ•° â†’ \rightarrow â†’urlï¼›</p><h2 id="2-Flaské«˜çº§è§†å›¾"><a href="#2-Flaské«˜çº§è§†å›¾" class="headerlink" title="2. Flaské«˜çº§è§†å›¾"></a>2. Flaské«˜çº§è§†å›¾</h2><h3 id="1ï¼‰add-url-ruleçš„åˆç™»åœº"><a href="#1ï¼‰add-url-ruleçš„åˆç™»åœº" class="headerlink" title="1ï¼‰add_url_ruleçš„åˆç™»åœº"></a>1ï¼‰add_url_ruleçš„åˆç™»åœº</h3><p>å®ç°urlä¸è§†å›¾å‡½æ•°çš„ç»‘å®šï¼Œé™¤äº†ä½¿ç”¨è·¯ç”±è£…é¥°å™¨@app.route,  add_url_rule(rule,endpoint&#x3D;None,view_func&#x3D;None)</p><h3 id="2ï¼‰ç±»è§†å›¾çš„å¼•å…¥"><a href="#2ï¼‰ç±»è§†å›¾çš„å¼•å…¥" class="headerlink" title="2ï¼‰ç±»è§†å›¾çš„å¼•å…¥"></a>2ï¼‰ç±»è§†å›¾çš„å¼•å…¥</h3><p>ğŸ”¹ å®šä¹‰çš„è§†å›¾éƒ½æ˜¯é€šè¿‡å‡½æ•°æ¥å®ç°çš„,æ‰€ä»¥ç§°ä¹‹ä¸ºè§†å›¾å‡½æ•°,ä½†å…¶å®è§†å›¾è¿˜å¯ä»¥ç”±ç±»æ¥å®ç°ï¼Œå³ç±»è§†å›¾ï¼›<br>ğŸ”¹æ ‡å‡†ç±»è§†å›¾ï¼š<br>        å®šä¹‰æ—¶éœ€è¦ç»§æ‰¿flaskçš„views.Viewè¿™ä¸€åŸºç±»;<br>        æ¯ä¸ªç±»è§†å›¾å†…å¿…é¡»åŒ…å«ä¸€ä¸ªdispatch_requestæ–¹æ³•ï¼Œæ¯å½“ç±»è§†å›¾æ¥æ”¶åˆ°è¯·æ±‚æ—¶éƒ½ä¼šæ‰§è¡Œè¯¥æ–¹æ³•ï¼Œè¿”å›å€¼çš„è®¾å®šå’Œè§†å›¾å‡½æ•°ç›¸åŒï¼›<br>        è§†å›¾å‡½æ•°å¯ä»¥é€šè¿‡@app.routeå’Œapp.add_url_ruleæ¥è¿›è¡Œæ³¨å†Œï¼ˆæ˜ å°„åˆ°urlï¼‰ï¼Œä½†ç±»è§†å›¾åªèƒ½é€šè¿‡app.add_url_ruleæ¥æ³¨å†Œï¼Œæ³¨å†Œæ—¶view_funcä¸èƒ½ç›´æ¥ä½¿ç”¨ç±»åï¼Œéœ€è¦è°ƒç”¨åŸºç±»ä¸­çš„as_viewæ–¹æ³•æ¥ä¸ºè‡ªå·±å–ä¸€ä¸ªâ€œè§†å›¾å‡½æ•°åâ€<br>from flask import Flask,render_template,views<br>app &#x3D; Flask(<strong>name</strong>)</p><h1 id="å®šä¹‰çˆ¶è§†å›¾ç±»ç»§æ‰¿åŸºç±»View"><a href="#å®šä¹‰çˆ¶è§†å›¾ç±»ç»§æ‰¿åŸºç±»View" class="headerlink" title="å®šä¹‰çˆ¶è§†å›¾ç±»ç»§æ‰¿åŸºç±»View"></a>å®šä¹‰çˆ¶è§†å›¾ç±»ç»§æ‰¿åŸºç±»View</h1><p>class Ads(views.View):<br>    def <strong>init</strong>(self):<br>        super(Ads, self).<strong>init</strong>()<br>        # å®ä¾‹å±æ€§<br>        self.context&#x3D;{<br>            â€˜adsâ€™:â€™è¿™æ˜¯å¯¹è”å¹¿å‘Šï¼â€™<br>        }</p><h1 id="å®šä¹‰å­è§†å›¾ç±»ç»§æ‰¿çˆ¶ç±»å¹¶å®ç°å·¥ç¨‹"><a href="#å®šä¹‰å­è§†å›¾ç±»ç»§æ‰¿çˆ¶ç±»å¹¶å®ç°å·¥ç¨‹" class="headerlink" title="å®šä¹‰å­è§†å›¾ç±»ç»§æ‰¿çˆ¶ç±»å¹¶å®ç°å·¥ç¨‹"></a>å®šä¹‰å­è§†å›¾ç±»ç»§æ‰¿çˆ¶ç±»å¹¶å®ç°å·¥ç¨‹</h1><p>class Index(Ads):<br>    def dispatch_request(self):<br>        # å­—å…¸ä¼ å‚æ–¹å¼&#x3D;&#x3D;ä¸å®šé•¿çš„å…³é”®å­—ä¼ å‚<br>        return render_template(â€˜class_mould&#x2F;index.htmlâ€™,**self.context)<br>class Login(Ads):<br>    def dispatch_request(self):<br>        # å­—å…¸ä¼ å‚æ–¹å¼&#x3D;&#x3D;ä¸å®šé•¿çš„å…³é”®å­—ä¼ å‚<br>        return render_template(â€˜class_mould&#x2F;login.htmlâ€™,**self.context)<br>class Register(Ads):<br>    def dispatch_request(self):<br>        # å­—å…¸ä¼ å‚æ–¹å¼&#x3D;&#x3D;ä¸å®šé•¿çš„å…³é”®å­—ä¼ å‚<br>        return render_template(â€˜class_mould&#x2F;register.htmlâ€™,**self.context)</p><h1 id="æ³¨å†Œæˆ‘ä»¬åˆ›å»ºçš„ç±»è§†å›¾-as-viewç»™ç±»è§†å›¾èµ·å"><a href="#æ³¨å†Œæˆ‘ä»¬åˆ›å»ºçš„ç±»è§†å›¾-as-viewç»™ç±»è§†å›¾èµ·å" class="headerlink" title="æ³¨å†Œæˆ‘ä»¬åˆ›å»ºçš„ç±»è§†å›¾,as_viewç»™ç±»è§†å›¾èµ·å"></a>æ³¨å†Œæˆ‘ä»¬åˆ›å»ºçš„ç±»è§†å›¾,as_viewç»™ç±»è§†å›¾èµ·å</h1><p>app.add_url_rule(rule&#x3D;â€™&#x2F;â€˜,endpoint&#x3D;â€™indexâ€™,view_func&#x3D;Index.as_view(â€˜indexâ€™))<br>app.add_url_rule(rule&#x3D;â€™&#x2F;login&#x2F;â€˜,endpoint&#x3D;â€™loginâ€™,view_func&#x3D;Login.as_view(â€˜loginâ€™))<br>app.add_url_rule(rule&#x3D;â€™&#x2F;register&#x2F;â€˜,endpoint&#x3D;â€™registerâ€™,view_func&#x3D;Register.as_view(â€˜registerâ€™))</p><p>if <strong>name</strong>&#x3D;&#x3D;â€™<strong>main</strong>â€˜:<br>    print(app.view_functions)<br>    app.run(debug&#x3D;True)</p><h3 id="3ï¼‰è£…é¥°å™¨çš„è‡ªå®šä¹‰ä¸ä½¿ç”¨"><a href="#3ï¼‰è£…é¥°å™¨çš„è‡ªå®šä¹‰ä¸ä½¿ç”¨" class="headerlink" title="3ï¼‰è£…é¥°å™¨çš„è‡ªå®šä¹‰ä¸ä½¿ç”¨"></a>3ï¼‰è£…é¥°å™¨çš„è‡ªå®šä¹‰ä¸ä½¿ç”¨</h3><h3 id="4ï¼‰è“å›¾çš„ä½¿ç”¨"><a href="#4ï¼‰è“å›¾çš„ä½¿ç”¨" class="headerlink" title="4ï¼‰è“å›¾çš„ä½¿ç”¨"></a>4ï¼‰è“å›¾çš„ä½¿ç”¨</h3><p>å½“æ¥æ”¶åˆ°è¯·æ±‚æ—¶ï¼ŒFlaskä¼šéå†Flaskå¯¹è±¡ä¸‹ï¼ˆå·²æ³¨å†Œï¼‰çš„å„è“å›¾å¯¹è±¡ï¼Œæ¯”å¯¹è“å›¾å¯¹è±¡ä¸­è®°å½•çš„urlï¼Œæ¯”å¯¹æˆåŠŸåˆ™æ˜ å°„åˆ°è¯¥urlç»‘å®šçš„è§†å›¾å‡½æ•°å¹¶è¿”å›å“åº”<br>ğŸ“Œ ä¸¾ä¸ªä¾‹å­ï¼ˆä¸ç”¨è“å›¾ vs ç”¨è“å›¾ï¼‰<br>âŒ ä¸ç”¨è“å›¾ï¼šæ‰€æœ‰ä»£ç å†™åœ¨ä¸€ä¸ªæ–‡ä»¶<br>from flask import Flask<br>app &#x3D; Flask(<strong>name</strong>)<br>@app.route(â€˜&#x2F;â€˜)<br>def home():<br>    return â€˜Homeâ€™<br>@app.route(â€˜&#x2F;adminâ€™)<br>def admin():<br>    return â€˜Adminâ€™<br>if <strong>name</strong> &#x3D;&#x3D; â€˜<strong>main</strong>â€˜:<br>    app.run()<br>âœ… ç”¨è“å›¾ï¼šæŒ‰æ¨¡å—æ‹†åˆ†</p><h1 id="æ–‡ä»¶ï¼šadmin-routes-py"><a href="#æ–‡ä»¶ï¼šadmin-routes-py" class="headerlink" title="æ–‡ä»¶ï¼šadmin&#x2F;routes.py"></a>æ–‡ä»¶ï¼šadmin&#x2F;routes.py</h1><p>from flask import Blueprint<br>admin_bp &#x3D; Blueprint(â€˜adminâ€™, <strong>name</strong>, url_prefix&#x3D;â€™&#x2F;adminâ€™)</p><p>@admin_bp.route(â€˜&#x2F;â€˜)<br>def admin_home():<br>    return â€˜Admin Homeâ€™</p><h1 id="æ–‡ä»¶ï¼šmain-py"><a href="#æ–‡ä»¶ï¼šmain-py" class="headerlink" title="æ–‡ä»¶ï¼šmain.py"></a>æ–‡ä»¶ï¼šmain.py</h1><p>from flask import Flask<br>from admin.routes import admin_bp</p><p>app &#x3D; Flask(<strong>name</strong>)<br>app.register_blueprint(admin_bp)</p><p>if <strong>name</strong> &#x3D;&#x3D; â€˜<strong>main</strong>â€˜:<br>    app.run()</p><h3 id="5ï¼‰url-prefixè®¾ç½®è“å›¾å‰ç¼€"><a href="#5ï¼‰url-prefixè®¾ç½®è“å›¾å‰ç¼€" class="headerlink" title="5ï¼‰url_prefixè®¾ç½®è“å›¾å‰ç¼€"></a>5ï¼‰url_prefixè®¾ç½®è“å›¾å‰ç¼€</h3><p>è“å›¾å¯¹è±¡å®šä¹‰æ—¶æ·»åŠ ï¼Œä¸ºå½“å‰è“å›¾ä¸‹çš„æ‰€æœ‰è§†å›¾å‡½æ•°æ·»åŠ ç»Ÿä¸€çš„å‰ç¼€<br>new_list &#x3D; Blueprint(â€˜newsâ€™,<strong>name</strong>,url_prefix&#x3D;â€™&#x2F;indexâ€™)<br>@new_list.route(â€˜&#x2F;newsâ€™)<br>def new():<br>    return â€˜è¿™æ˜¯æ–°é—»æ¨¡å—ï¼â€™<br>æ­¤å¤–ï¼Œåœ¨ä¸»è·¯ç”±ä¸­æ³¨å†Œè“å›¾æ—¶ä¹Ÿå¯ä»¥ä¸ºè“å›¾æ·»åŠ å‰ç¼€ï¼Œå¹¶ä¸”æ­¤æ¬¡æ·»åŠ ä¼šè¦†å†™è“å›¾å¯¹è±¡åˆ›å»ºæ—¶æ·»åŠ çš„å‰ç¼€ï¼›<br>å¦‚ä¸‹ä¾‹ä¸­ï¼Œæ³¨å†Œåçš„æ–°é—»æ¨¡å—çš„urlåˆå˜ä¸ºäº†â€&#x2F;test&#x2F;newsâ€ï¼š<br>app.register_blueprint(news.new_list,url_prefix&#x3D;â€™&#x2F;testâ€™)</p><h3 id="6ï¼‰subdomainè®¾ç½®è“å›¾å­åŸŸå"><a href="#6ï¼‰subdomainè®¾ç½®è“å›¾å­åŸŸå" class="headerlink" title="6ï¼‰subdomainè®¾ç½®è“å›¾å­åŸŸå"></a>6ï¼‰subdomainè®¾ç½®è“å›¾å­åŸŸå</h3><p>é€šè¿‡ä¿®æ”¹Flaskå¯¹è±¡çš„é…ç½®,ä¸ºæˆ‘ä»¬çš„ç½‘ç«™è®¾ç½®åŸŸå,ç”¨å­—æ®µä¸ºâ€™SERVER_NAMEâ€™,ä¸ºè¯¥åŸŸåæŒ‡å®šç«¯å£å·ï¼š</p><h1 id="å½“å‰ç½‘ç«™åŸŸåè®¾ç½®ä¸ºexample-comï¼Œç«¯å£å·ä¸º5000"><a href="#å½“å‰ç½‘ç«™åŸŸåè®¾ç½®ä¸ºexample-comï¼Œç«¯å£å·ä¸º5000" class="headerlink" title="å½“å‰ç½‘ç«™åŸŸåè®¾ç½®ä¸ºexample.comï¼Œç«¯å£å·ä¸º5000"></a>å½“å‰ç½‘ç«™åŸŸåè®¾ç½®ä¸ºexample.comï¼Œç«¯å£å·ä¸º5000</h1><pre><code class="hljs">app.config[&#39;SERVER_NAME&#39;] = &#39;example.com:5000&#39;</code></pre><p>ä¿®æ”¹ä½äº C:\Windows\System32\drivers\etc ä¸‹çš„åŸŸåé‡å®šå‘æ–‡ä»¶ hosts<br>ğŸ“Œè®¾ç½®å­åŸŸå:åœ¨è“å›¾æ–‡ä»¶admin.pyä¸­æ³¨å†Œè“å›¾å¯¹è±¡ï¼Œæ·»åŠ subdomain&#x3D;â€™adminâ€™å³ä¸ºè¯¥è“å›¾è®¾ç½®å­åŸŸåadminï¼›<br>å†åœ¨hostsæ–‡ä»¶ä¸­æ·»åŠ è®°å½•ï¼š10.240.142.216 admin.example<br>ğŸ“Œå†åœ¨hostsæ–‡ä»¶ä¸­æ·»åŠ è®°å½•ï¼š10.240.142.216 admin.example.comåï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥é€šè¿‡åŸŸåï¼š<a href="http://admin.example.com:5000/ad%E6%9D%A5%E8%AE%BF%E9%97%AE%E8%AF%A5%E8%93%9D%E5%9B%BE%EF%BC%88%E4%B8%8B%E4%B8%80%E7%BA%A7%E5%9F%9F%E5%90%8D%E5%9C%A8%E4%B8%8A%E4%B8%80%E7%BA%A7%E5%B7%A6%E4%BE%A7%EF%BC%89%EF%BC%9B">http://admin.example.com:5000/adæ¥è®¿é—®è¯¥è“å›¾ï¼ˆä¸‹ä¸€çº§åŸŸååœ¨ä¸Šä¸€çº§å·¦ä¾§ï¼‰ï¼›</a><br>        from flask import Blueprint<br>        bp &#x3D; Blueprint(â€˜adminâ€™,<strong>name</strong>,subdomain &#x3D; â€˜adminâ€™)<br>        @bp.route(â€˜&#x2F;adâ€™)<br>        def admin():<br>            return â€˜Admin Pageâ€™</p><h2 id="3-jinja2æ¨¡æ¿å¼•æ“"><a href="#3-jinja2æ¨¡æ¿å¼•æ“" class="headerlink" title="3.jinja2æ¨¡æ¿å¼•æ“"></a>3.jinja2æ¨¡æ¿å¼•æ“</h2><h3 id="1ï¼‰æ¨¡æ¿çš„å¯¼å…¥ä¸ä½¿ç”¨"><a href="#1ï¼‰æ¨¡æ¿çš„å¯¼å…¥ä¸ä½¿ç”¨" class="headerlink" title="1ï¼‰æ¨¡æ¿çš„å¯¼å…¥ä¸ä½¿ç”¨"></a>1ï¼‰æ¨¡æ¿çš„å¯¼å…¥ä¸ä½¿ç”¨</h3><pre><code class="hljs">Flaské€šè¿‡render_templateæ¥å®ç°æ¨¡æ¿çš„æ¸²æŸ“ã€‚è¦å¯¼å…¥from flask     import rander_templateï¼Œæ¨¡æ¿ä¸­æ³¨é‡Šéœ€æ”¾åœ¨ä¸­</code></pre><h3 id="2ï¼‰æ¨¡æ¿ä¸­çš„æ§åˆ¶è¯­å¥"><a href="#2ï¼‰æ¨¡æ¿ä¸­çš„æ§åˆ¶è¯­å¥" class="headerlink" title="2ï¼‰æ¨¡æ¿ä¸­çš„æ§åˆ¶è¯­å¥"></a>2ï¼‰æ¨¡æ¿ä¸­çš„æ§åˆ¶è¯­å¥</h3><pre><code class="hljs">jinja2æ¨¡æ¿å¼•æ“ä¸­ä¹Ÿå¯ä½¿ç”¨ifå’Œforæ§åˆ¶è¯­å¥ï¼Œä½†æ˜¯è¯­å¥éœ€è¦æ”¾ç½®åœ¨&#123;% %&#125;ä¸­ï¼›ifæ¡ä»¶åˆ¤æ–­è¯­å¥å¿…é¡»åŒ…å«ç»“æŸæ ‡ç­¾&#123;% endif %&#125;ï¼Œå…¶ä»–éƒ¨åˆ†ä¸pythonä¸­ç±»ä¼¼ï¼Œå¯ä»¥ä¸æ¯”è¾ƒè¿ç®—ç¬¦&gt; &gt;= &lt; &lt;= == !=ç»“åˆä½¿ç”¨ï¼Œæˆ–ä¸é€»è¾‘è¿ç®—ç¬¦and,or,not,()ç»“åˆä½¿ç”¨ï¼›</code></pre><h3 id="3ï¼‰è¿‡æ»¤å™¨çš„ä½¿ç”¨ä¸è‡ªå®šä¹‰"><a href="#3ï¼‰è¿‡æ»¤å™¨çš„ä½¿ç”¨ä¸è‡ªå®šä¹‰" class="headerlink" title="3ï¼‰è¿‡æ»¤å™¨çš„ä½¿ç”¨ä¸è‡ªå®šä¹‰"></a>3ï¼‰è¿‡æ»¤å™¨çš„ä½¿ç”¨ä¸è‡ªå®šä¹‰</h3><p>&lt;â€” è‡ªå®šä¹‰è¿‡æ»¤å™¨ â€”&gt;<br>def list_step(li):<br>    # è¿”å›åˆ—è¡¨ï¼Œæ­¥é•¿ä¸º2<br>    return li[::2]</p><pre><code class="hljs"># æ³¨å†Œæ¨¡æ¿è¿‡æ»¤å™¨ï¼ˆfilterï¼‰# å‚æ•°1ä¸ºè¯¥è¿‡æ»¤å™¨è°ƒç”¨çš„å‡½æ•°å‚æ•°2ä¸ºåœ¨å‰ç«¯ä¸­è°ƒç”¨è¯¥è¿‡æ»¤å™¨ä½¿ç”¨çš„åç§°</code></pre><p>app.add_template_filter(list_step,â€™li2â€™)</p><p>å¯ä»¥åœ¨å‰ç«¯æ¨¡æ¿å†…  <!-- åŸä¸º Jinja2 è¿‡æ»¤å™¨è¯­æ³•ï¼Œå·²ç§»é™¤è¿‡æ»¤å™¨éƒ¨åˆ† -->çš„â€ | â€œåä½¿ç”¨ï¼›</p><h2 id="4-Flaskæ•°æ®äº¤äº’"><a href="#4-Flaskæ•°æ®äº¤äº’" class="headerlink" title="4.Flaskæ•°æ®äº¤äº’"></a>4.Flaskæ•°æ®äº¤äº’</h2><h3 id="4ï¼‰Cookieçš„ä½¿ç”¨"><a href="#4ï¼‰Cookieçš„ä½¿ç”¨" class="headerlink" title="4ï¼‰Cookieçš„ä½¿ç”¨"></a>4ï¼‰Cookieçš„ä½¿ç”¨</h3><p>ğŸ“Œ åœ¨ç½‘ç«™ä¸­ï¼Œhttpè¯·æ±‚æ˜¯å‘ˆæ— åºçŠ¶æ€çš„<br>æ— åºçŠ¶æ€æ˜¯æŒ‡åè®®å¯¹äºäº‹åŠ¡å¤„ç†æ²¡æœ‰è®°å¿†èƒ½åŠ›ï¼ŒåŒä¸€ä¸ªæœåŠ¡å™¨ä¸Šä½ æ–°æ‰“å¼€çš„ç½‘é¡µå’Œä¹‹å‰æ‰“å¼€çš„ç½‘é¡µä¹‹é—´æ²¡æœ‰ä»»ä½•è”ç³»ï¼Œä½ çš„å½“å‰è¯·æ±‚å’Œä¸Šä¸€æ¬¡è¯·æ±‚ç©¶ç«Ÿæ˜¯ä¸æ˜¯ä¸€ä¸ªç”¨æˆ·å‘å‡ºçš„ï¼ŒæœåŠ¡å™¨ä¹Ÿæ— ä»å¾—çŸ¥ï¼›</p><p>Cookieä¸€èˆ¬é€šè¿‡Responseå¯¹è±¡çš„set_cookie()æ–¹æ³•æ¥è®¾ç½®<br>    # å‰ä¸¤ä¸ªå‚æ•°å¿…é¡»è®¾ç½®ï¼Œåç»­å‚æ•°åˆ™ä¸ºå¯é€‰å‚æ•°<br>set_cookie(key,value[,max_age,expires,path,domain,secure,httponly,samesite])<br>key(æˆ–name)å¿…éœ€é¡¹ï¼Œè§„å®šcookieçš„åç§°ï¼Œå­—ç¬¦ä¸²<br>valueå¿…éœ€é¡¹ï¼Œè§„å®šcookieçš„å†…å®¹ï¼Œå­—ç¬¦ä¸²</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ä¿®æ”¹å“åº”å¯¹è±¡Responseçš„è¡¨å•å¤´headersæ¥è®¾ç½®cookieï¼š<br>@app.route(â€˜&#x2F;hâ€™)<br>def set_cookie_h():<br>    resp &#x3D; Response(â€œè®¾ç½®Cookieï¼â€)<br>    # é€šè¿‡æ·»åŠ è¡¨å¤´çš„é”®å€¼å¯¹æ¥å®ç°cookieè®¾ç½®<br>    # ç¬¬ä¸€é¡¹ä¸ºkey&#x3D;valueï¼Œéœ€è¦åŒæ—¶è®¾ç½®è¿™ä¸¤ä¸ªå‚æ•°ï¼Œåç»­é¡¹åˆ™ç”¨åˆ†å·åˆ†éš”<br>    resp.headers[â€˜Set-Cookieâ€™] &#x3D; â€œ testname &#x3D; lisi; Expires &#x3D; SUN,01-Nov-2021 05:10:12 GMT; Max-Age&#x3D;3600; path&#x3D;&#x2F; â€œ<br>    return resp</p>]]></content>
    
    
    <categories>
      
      <category>Flask</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Python</tag>
      
      <tag>Webå¼€å‘</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
